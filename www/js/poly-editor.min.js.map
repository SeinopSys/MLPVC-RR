{"version":3,"sources":["poly-editor.js"],"names":["$","classStart","$doc","document","fn","polyEditor","options","topleft","center","Z","size","console","group","framecenter","wrapcenterpos","CX","left","CY","top","FX","FY","W","width","H","height","log","NCX","NCY","NTX","NTY","groupEnd","image","Error","wrapheight","wrapwidth","wrapoffset","movehandler","$imageElement","Image","attr","src","class","$svgElement","createElementNS","version","xmlns","$svgWrap","mk","append","$wrap","this","first","addClass","$mousepos","text","$imgtl","$imgc","$wrapc","$imgcExpected","imagecenterpos","imgoffset","resized","renderdebuglines","end","end2","wrapcenter","empty","x1","y1","x2","y2","fill","stroke","stroke-width","stroke-miterlimit","updateperc","$zoomperc","roundTo","zoomlevel","activeElement","blur","$zoomout","$zoomin","imgcenter","offset","css","zoomto","perc","data","newsize","newzoomlevel","rangeLimit","scaleResize","scale","zoomed","$imageOverlay","add","contenteditable","on","e","isKey","Key","Enter","preventDefault","parseFloat","isNaN","select","clearSelection","$zoomfit","wide","Math","floor","$actionsBottomLeft","stopPropagation","triggerHandler","appendTo","$loader","html","resizehandler","throttle","innerWidth","innerHeight","outerHeight","outerWidth","$w","detach","fadeTo","initial","initialmouse","mouse","pageY","pageX","target","is","off","destroy","removeClass","jQuery"],"mappings":"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","file":"poly-editor.min.js","sourceRoot":"/js"}
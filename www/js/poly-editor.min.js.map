{"version":3,"sources":["poly-editor.js"],"names":["$","classStart","$doc","document","fn","polyEditor","options","topleft","imgoffset","scalefactor","console","group","framecenter","wrapcenterpos","TX","left","TY","top","FX","FY","log","NTX","NTY","groupEnd","image","Error","wrapwidth","wrapheight","movehandler","$imageElement","Image","attr","src","class","$svgElement","createElementNS","version","xmlns","$svgWrap","mk","append","$wrap","this","first","addClass","$mousepos","text","$imgtl","$imgc","$wrapc","$imgcExpected","imagepos","wrapoffset","wrappos","imagecenterpos","resized","height","width","offset","outerHeight","outerWidth","updateperc","$zoomperc","roundTo","zoomlevel","activeElement","blur","$zoomout","$zoomin","imgcenter","css","wrapcenter","zoomto","perc","size","data","newsize","oldzoomlevel","newzoomlevel","rangeLimit","scaleResize","scale","zoomed","$imageOverlay","add","contenteditable","on","e","isKey","Key","Enter","preventDefault","parseFloat","isNaN","select","clearSelection","$zoomfit","wide","Math","floor","$actionsBottomLeft","stopPropagation","triggerHandler","appendTo","$loader","html","resizehandler","throttle","innerWidth","innerHeight","$w","detach","fadeTo","initial","initialmouse","mouse","pageY","pageX","target","is","off","destroy","empty","removeClass","jQuery"],"mappings":"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","file":"poly-editor.min.js","sourceRoot":"/js"}
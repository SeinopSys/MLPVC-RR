{"version":3,"sources":["poly-editor.js"],"names":["$","undefined","classStart","$doc","document","fn","polyEditor","options","topleft","imgoffset","scalefactor","console","group","framecenter","wrapcenterpos","TX","left","TY","top","FX","FY","log","NTX","NTY","groupEnd","image","Error","wrapwidth","wrapheight","movehandler","$imageElement","Image","attr","src","class","$svgElement","createElementNS","version","xmlns","$svgWrap","mk","append","$wrap","this","first","addClass","$mousepos","text","$imgtl","$imgc","$wrapc","$imgcExpected","imagepos","wrapoffset","wrappos","imagecenterpos","resized","height","width","offset","outerHeight","outerWidth","updatezoomlevel","$zoomperc","roundTo","zoomlevel","activeElement","blur","$zoomout","$zoomin","updatepositions","imgcenter","css","wrapcenter","zoomto","perc","size","data","newsize","oldzoomlevel","newzoomlevel","rangeLimit","scaleResize","scale","zoomed","$imageOverlay","add","contenteditable","on","e","isKey","Key","Enter","preventDefault","parseFloat","isNaN","select","html","trim","length","clearSelection","$zoomfit","wide","Math","floor","$actionTopLeft","stopPropagation","triggerHandler","$actionsBottomLeft","appendTo","$loader","resizehandler","throttle","innerWidth","innerHeight","$w","detach","fadeTo","initial","initialmouse","mouse","pageY","pageX","target","is","off","destroy","empty","removeClass","jQuery"],"mappings":"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","file":"poly-editor.min.js","sourceRoot":"/js"}
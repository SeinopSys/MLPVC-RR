{"version":3,"sources":["poly-editor.js"],"names":["$","classStart","$doc","document","fn","polyEditor","options","topleft","imgoffset","scalefactor","console","group","framecenter","wrapcenterpos","TX","left","TY","top","FX","FY","log","NTX","NTY","groupEnd","image","Error","wrapheight","wrapwidth","wrapoffset","movehandler","$imageElement","Image","attr","src","class","$svgElement","createElementNS","version","xmlns","$svgWrap","mk","append","$wrap","this","first","addClass","$mousepos","text","$imgtl","$imgc","$wrapc","$imgcExpected","imagepos","imagecenterpos","resized","height","width","renderdebuglines","end","end2","wrapcenter","empty","x1","y1","x2","y2","fill","stroke","stroke-width","stroke-miterlimit","updateperc","$zoomperc","roundTo","zoomlevel","activeElement","blur","$zoomout","$zoomin","imgcenter","offset","css","zoomto","perc","size","data","newsize","oldzoomlevel","newzoomlevel","rangeLimit","scaleResize","scale","zoomed","$imageOverlay","add","contenteditable","on","e","isKey","Key","Enter","preventDefault","parseFloat","isNaN","select","clearSelection","$zoomfit","wide","Math","floor","$actionsBottomLeft","stopPropagation","triggerHandler","appendTo","$loader","html","resizehandler","throttle","innerWidth","innerHeight","outerHeight","outerWidth","$w","detach","fadeTo","initial","initialmouse","mouse","pageY","pageX","target","is","off","destroy","removeClass","jQuery"],"mappings":"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","file":"poly-editor.min.js","sourceRoot":"/js"}
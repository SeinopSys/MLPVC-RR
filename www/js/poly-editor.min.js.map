{"version":3,"sources":["poly-editor.js"],"names":["$","classStart","$doc","document","fn","polyEditor","options","image","Error","wrapheight","wrapwidth","wrapoffset","movehandler","$imageElement","Image","attr","src","class","$wrap","this","first","addClass","$imgtl","mk","text","$imgc","$wrapc","$imgcExpected","imagecenterpos","imgoffset","resized","top","height","left","width","wrapcenterpos","updateperc","$zoomperc","roundTo","zoomlevel","activeElement","blur","offset","imgcenter","css","wrapcenter","zoomto","perc","size","data","scaleResize","scale","rangeLimit","dist","console","log","$imageOverlay","add","contenteditable","on","e","isKey","Key","Enter","preventDefault","parseFloat","isNaN","select","clearSelection","$zoomfit","wide","$actionsBottomLeft","append","Math","floor","stopPropagation","triggerHandler","appendTo","$loader","html","resizehandler","throttle","innerHeight","innerWidth","outerHeight","outerWidth","$w","detach","fadeTo","initial","initialmouse","mouse","pageY","pageX","target","is","off","destroy","empty","removeClass","jQuery"],"mappings":"CACA,SAAUA,GACT,YACA,IAAIC,GAAa,QAChBC,EAAOF,EAAEG,SAEVH,GAAEI,GAAGC,WAAa,SAASC,GAE1B,IAAKA,EAAQC,MACZ,KAAM,IAAIC,OAAM,gBACjB,IA2ICC,GACAC,EACAC,EACAC,EA9IGC,EAAgBb,EAAE,GAAIc,QAASC,MACjCC,IAAKV,EAAQC,MACbU,QAAShB,EAAW,UAClBc,KAAK,QAAQd,EAAW,iBAC3BiB,EAAQC,KAAKC,QAAQC,SAASpB,EAAW,QACzCqB,EAAStB,EAAEuB,GAAG,QAAQR,KAAK,QAAS,kBAAkBA,KAAK,QAAQd,EAAW,SAASuB,KAAK,QAC5FC,EAAQzB,EAAEuB,GAAG,QAAQR,KAAK,QAAS,gBAAgBA,KAAK,QAAQd,EAAW,QAAQuB,KAAK,QACxFE,EAAS1B,EAAEuB,GAAG,QAAQR,KAAK,QAAS,kBAAkBA,KAAK,QAAQd,EAAW,SAASuB,KAAK,QAC5FG,EAAgB3B,EAAEuB,GAAG,QAAQR,KAAK,QAASd,EAAW,iBACtD2B,EAAiB,SAASC,EAAWC,GACpC,OACCC,IAAMF,EAAUE,IAAIpB,EAAWoB,IAAMD,EAAQE,OAAO,EACpDC,KAAOJ,EAAUI,KAAKtB,EAAWsB,KAAOH,EAAQI,MAAM,IAGxDC,EAAgB,WACf,OACCJ,IAAKtB,EAAW,EAChBwB,KAAMvB,EAAU,IAGlB0B,EAAa,SAASL,EAAIE,EAAKH,GAI9B,GAHAO,EAAUb,KAAKxB,EAAEsC,QAAkB,IAAVC,EAAc,GAAG,KAC1CpC,SAASqC,cAAcC,OAEJ,gBAARV,GAAX,CAEAT,EAAOE,KAAKxB,EAAEsC,QAAQP,EAAI,GAAG,IAAI/B,EAAEsC,QAAQL,EAAK,GAChD,IAAIJ,GAAYhB,EAAc6B,SAC7BC,EAAYf,EAAeC,EAAWC,EACvCL,GAAMD,KAAKxB,EAAEsC,QAAQK,EAAUZ,IAAI,GAAG,IAAI/B,EAAEsC,QAAQK,EAAUV,KAAK,IACnEN,EAAciB,KACbb,IAAKY,EAAUZ,IAAI,EACnBE,KAAMU,EAAUV,KAAK,GAEtB,IAAIY,GAAaV,GACjBT,GAAOF,KAAKxB,EAAEsC,QAAQO,EAAWd,IAAI,GAAG,IAAI/B,EAAEsC,QAAQO,EAAWZ,KAAK,MAEvEM,EAAY,EACZO,EAAS,SAASC,GACjB,GAAIC,GAAOnC,EAAcoC,KAAK,OAC9B,IAAoB,gBAATD,GAAX,CAGA,GAAIlB,GAAU9B,EAAEkD,YAAYF,EAAKd,MAAOc,EAAKhB,QAASmB,MAAOnD,EAAEoD,WAAWL,GAAM,EAAO,IAAM,OAEzFlB,GACFE,KAAMtB,EAAWqB,EAAQE,QAAQ,EACjCC,MAAOvB,EAAUoB,EAAQI,OAAO,GAEjCS,EAAYf,EAAeC,EAAWC,GACtCe,EAAaV,IACbkB,GACCtB,IAAKc,EAAWd,IAAIY,EAAUZ,IAC9BE,KAAMY,EAAWZ,KAAKU,EAAUV,KAUlCqB,SAAQC,IAAIV,EAAYF,GAExBJ,EAAYT,EAAQqB,KACpB,IAAIpB,GAAMY,EAAUZ,IAAKsB,EAAKtB,IAAMQ,EACnCN,EAAQU,EAAUV,KAAMoB,EAAKpB,KAAOM,CACrCiB,GAAcC,IAAI5C,GAAe+B,KAChCb,IAAKA,EACLE,KAAMA,EACNC,MAAOJ,EAAQI,MACfF,OAAQF,EAAQE,SAGjBI,EAAWL,EAAIE,EAAKH,KAErBO,EAAYrC,EAAEuB,GAAG,QAAQR,MACxBE,QAAShB,EAAW,YACpByD,iBAAiB,IACflC,KAAK,QAAQmC,GAAG,UAAU,SAASC,GACrC,GAAK5D,EAAE6D,MAAMC,IAAIC,MAAOH,GAAxB,CAGAA,EAAEI,gBAEF,IAAIjB,GAAOkB,WAAW5B,EAAUb,OAAQ,GACnC0C,OAAMnB,IACVD,EAAOC,EAAK,KAEbX,OACEuB,GAAG,QAAQ,WACbtB,EAAU8B,WACRR,GAAG,OAAO,WACZ3D,EAAEoE,mBAEHC,EAAWrE,EAAEuB,GAAG,UAAUR,KAAK,QAAQd,EAAW,6CAA6C0D,GAAG,QAAS,SAASC,GACnH,GAAIZ,GAAOnC,EAAcoC,KAAK,OAC9B,IAAoB,gBAATD,GAAX,CAGAY,EAAEI,gBAEF,IAAIM,GAAOtB,EAAKd,MAAQc,EAAKhB,OAC5BF,EAAU9B,EAAEkD,YAAYF,EAAKd,MAAOc,EAAKhB,OAAQsC,GAAQtC,OAAOvB,IAAeyB,MAAMxB,IACrFqB,EAAMuC,EAAO,GAAK7D,EAAWqB,EAAQE,QAAQ,EAC7CC,EAAOqC,GAAQ5D,EAAUoB,EAAQI,OAAO,EAAI,CAC7CsB,GAAcC,IAAI5C,GAAe+B,KAChCb,IAAKA,EACLE,KAAMA,EACNC,MAAOJ,EAAQI,MACfF,OAAQF,EAAQE,SAEjBO,EAAYT,EAAQqB,MACpBf,EAAWL,EAAIE,EAAKH,MAErByC,EAAqBvE,EAAEuB,GAAG,OAAOR,KAAK,QAAQd,EAAW,WAAWA,EAAW,cAAcuE,OAC5FxE,EAAEuB,GAAG,UAAUR,KAAK,QAAQd,EAAW,+BAA+B0D,GAAG,QAAQ,SAASC,GACzFA,EAAEI,iBAEFlB,GAAQ2B,KAAKC,MAAgB,GAAVnC,GAAc,GAAG,MAErCvC,EAAEuB,GAAG,UAAUR,KAAK,QAAQd,EAAW,iCAAiC0D,GAAG,QAAQ,SAASC,GAC3FA,EAAEI,iBAEFlB,GAAQ2B,KAAKC,MAAgB,GAAVnC,GAAc,GAAG,MAErC8B,EACAhC,EACAf,EACAG,EACAC,GACCiC,GAAG,YAAY,SAASC,GACzBA,EAAEe,kBACFtC,EAAUuC,eAAe,UAE1BpB,EAAgBxD,EAAEuB,GAAG,OAAOR,KAAK,QAAQd,EAAW,iBAAiB4E,SAAS3D,GAC9E4D,EAAU9E,EAAEuB,GAAG,OAAOR,KAAK,QAAQd,EAAW,UAAU8E,KAAK,mBAK7DC,EAAgBhF,EAAEiF,SAAS,IAAK,SAASrB,GACxCnD,EAAaS,EAAMgE,cACnBxE,EAAYQ,EAAMiE,aAClBxE,EAAaO,EAAMwB,SACnB/B,EAAWoB,MAAQtB,EAAaS,EAAMkE,eAAe,EACrDzE,EAAWsB,OAASvB,EAAYQ,EAAMmE,cAAc,EAE3B,gBAAd9C,IACVO,EAAOP,EAER,IAAIM,GAAaV,GACjBT,GAAOF,KAAKqB,EAAWd,IAAI,IAAIc,EAAWZ,OAwD5C,OArDAqD,IAAG3B,GAAG,SAAUqB,GAChBA,IAEA9D,EAAMsD,OAAOD,EAAmBO,EAAQnD,GACxCd,EAAc8C,GAAG,OAAQ,WACxBH,EAAcZ,IAAI,UAAU,GAC5B/B,EAAcgE,SAAS3D,GAAO+B,KAAK,QAClCf,MAAOrB,EAAcqB,QACrBF,OAAQnB,EAAcmB,WAEvB8C,EAAQS,SAERlB,EAASO,eAAe,SACxBpB,EAAcgC,OAAO,IAAK,EAC1B,IAAIC,GACHC,CACD9E,GAAcZ,EAAEiF,SAAS,IAAK,SAASrB,GACtCA,EAAEI,gBAEF,IAAI2B,IACH5D,IAAK6B,EAAEgC,MACP3D,KAAM2B,EAAEiC,OAET9D,EAAO0D,EAAQ1D,KAAK4D,EAAM5D,IAAI2D,EAAa3D,KAAMpB,EAAWoB,IAC5DE,EAAQwD,EAAQxD,MAAM0D,EAAM1D,KAAKyD,EAAazD,MAAOtB,EAAWsB,IAChEuB,GAAcC,IAAI5C,GAAe+B,KAChCb,IAAKA,EACLE,KAAMA,IAGPG,EAAWL,EAAKE,GACfC,MAAOrB,EAAcqB,QACrBF,OAAQnB,EAAcmB,aAIxB9B,EAAKyD,GAAG,YAAY,SAASC,GACvB5D,EAAE4D,EAAEkC,QAAQC,GAAGvC,KAGpBI,EAAEI,iBACFyB,EAAUjC,EAAcd,SACxBgD,GACC3D,IAAK6B,EAAEgC,MACP3D,KAAM2B,EAAEiC,OAET3F,EAAKyD,GAAG,YAAY/C,MAErBV,EAAKyD,GAAG,0BAA0B,WACjCzD,EAAK8F,IAAI,YAAYpF,QAKtBqF,QAAS,WACmB,kBAAhBrF,IACVV,EAAK8F,IAAI,YAAapF,GACvB0E,GAAGU,IAAI,SAAUhB,GACjB9D,EAAMgF,QAAQC,YAAYlG,EAAW,YAItCmG","file":"poly-editor.min.js","sourceRoot":"/js"}
!function(){"use strict";var t=/Page \d+/g,e=location.pathname.replace(/\/\d+$/,"")+"/",a=$(".pagination"),n=parseInt(a.first().children("li").children("strong").text(),10),i=parseInt(a.first().children(":not(.spec)").last().text(),10),o="Navigation",r=$.mk("form").attr("id","goto-page").on("submit",function(t){t.preventDefault();var a=parseInt($(this).find("input:visible").val(),10);isNaN(a)&&(a=1),$.toPage(e+Math.max(1,a))}).append($.mk("label").append($.mk("span").text("Enter page number"),$.mk("input").attr({type:"number",min:1,max:i,step:1})));$d.off("paginate-refresh").on("paginate-refresh",function(){e=location.pathname.replace(/\/\d+$/,"")+"/",a=$(".pagination"),n=parseInt(a.first().children("li").children("strong").text(),10),o="Navigation",a.off("click").on("click","a",function(t){return t.preventDefault(),t.stopPropagation(),$("#ctxmenu").hide(),"undefined"==typeof $(this).attr("href")?$.Dialog.request("Navigation",r.clone(!0,!0),"goto-page","Go to page",function(t){t.find("input:visible").val(n).get(0).select()}):void $.toPage(this.pathname)}),$w.off("nav-popstate").on("nav-popstate",function(t,e){var a={state:e},n=[location.pathname,!0,void 0,!0];0===$(".pagination").length?HandleNav(n[0],function(){$.toPage.apply(a,n)},!0):$.toPage.apply(a,n)}),$.toPage=function(r,p,s,l){r||(r=window.location.pathname);var c=parseInt(r.replace(/^.*\/(\d+)(?:$|\?)/,"$1"),10),g=this.state||{};if(!s&&(n===c||n===g.page))return p?!1:$.Dialog.info(o,"You are already on page "+n);var h={js:!0},u=[],d=this.query;"undefined"!=typeof d?("string"==typeof d&&(u=u.concat(d.split("&"))),d=!0):(d=!1,location.search.length>1&&(u=u.concat(location.search.substring(1).split("&")))),u.length&&$.each(u,function(t,e){e=e.replace(/\+/g," ").split("="),h[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}),$.Dialog.wait(o,"Loading page "+c),$.get(r,h,$.mkAjaxHandler(function(){if(!this.status)return $.Dialog.fail(o,this.message);c=parseInt(this.page,10);var r=$navbar.find("li.active").children().last();t.test(r.text())&&r.html(function(){return this.innerHTML.replace(t,"Page "+c)}),document.title=document.title.replace(t,"Page "+c);var p=this.request_uri||e+c+(window.location.search.length>1?location.search:""),s=[{paginate:!0,page:c},"",p];l===!0?history.replaceState(history,s):(g.page!==c&&!isNaN(c)||d)&&history.pushState.apply(history,s),a.html(this.pagination),i=parseInt(a.first().children(":not(.spec)").last().text(),10);var h=jQuery.Event("page-switch");$(this.update).html(this.output).trigger(h),window.updateTimes(),n=c,h.isDefaultPrevented()||$.Dialog.close()}))}})}();
//# sourceMappingURL=paginate.min.js.map

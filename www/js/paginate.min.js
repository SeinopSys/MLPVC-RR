!function(){if(window[" paginationHandlerBound"]!==!0){window[" paginationHandlerBound"]=!0;var t=/Page \d+/g,a=location.pathname.replace(/\/\d+$/,"")+"/",e=$(".pagination"),n=parseInt(e.first().children("li").children("strong").text(),10),i="Navigation",o=$.mk("form").attr("id","goto-page").on("submit",function(t){t.preventDefault();var e=parseInt($(this).find("input:visible").val(),10);isNaN(e)&&(e=1),$.toPage(a+Math.max(1,e))}).append($.mk("label").append($.mk("span").text("Enter page number"),$.mk("input").attr({type:"number",min:1,step:1})));$d.on("paginate-refresh",function(){a=location.pathname.replace(/\/\d+$/,"")+"/",e=$(".pagination"),n=parseInt(e.first().children("li").children("strong").text(),10),i="Navigation",e.on("click","a",function(t){return t.preventDefault(),t.stopPropagation(),$("#ctxmenu").hide(),"undefined"==typeof $(this).attr("href")?$.Dialog.request("Navigation",o.clone(!0,!0),"goto-page","Go to page",function(t){t.find("input:visible").val(n).get(0).select()}):void $.toPage(this.pathname)}),$w.on("nav-popstate",function(t,a){$.toPage.call({state:a},location.pathname,!0)}),$.toPage=function(o,r,l){o||(o=window.location.pathname);var p=parseInt(o.replace(/^.*\/(\d+)$/,"$1"),10),s=this.state||{};return l||n!==p&&n!==s.page?(location.search.length>1&&(o+=location.search),$.Dialog.wait(i,"Loading page "+p),void $.get(o,{js:!0},$.mkAjaxHandler(function(){if(!this.status)return $.Dialog.fail(i,this.message);p=parseInt(this.page,10);var o=$navbar.find("li.active").children().last();t.test(o.text())&&o.html(function(){return this.innerHTML.replace(t,"Page "+p)}),document.title=document.title.replace(t,"Page "+p),s.page===p||isNaN(p)||history.pushState({paginate:!0,page:p},"",a+p+(window.location.search.length>1?location.search:"")),e.html(this.pagination);var r=jQuery.Event("page-switch");$(this.update).html(this.output).trigger(r),window.updateTimes(),n=p,r.isDefaultPrevented()||$.Dialog.close()}))):r?!1:$.Dialog.info(i,"You are already on page "+n)}})}}();
//# sourceMappingURL=paginate.min.js.map
{"version":3,"sources":["logs.js"],"names":["$","find","children","each","$row","this","on","$this","title","hasClass","toggleClass","next","stop","slideUp","length","slideDown","EntryID","parseInt","first","text","ajax","method","url","success","data","console","log","window","trigger","status","$dataDiv","document","createElement","attr","css","details","i","el","test","append","join","insertAfter","Dialog","fail","message","ww","width","$td","parent","$tr","$ip","clone","html","split","info","trim","replace"],"mappings":"AAAAA,EAAE,WACDA,EAAE,SAASC,KAAK,SAASC,WAAWC,KAAK,WACxC,GAAIC,GAAOJ,EAAEK,KAEbD,GAAKH,KAAK,mBAAmBK,GAAG,QAAQ,WACvC,GAAIC,GAAQP,EAAEK,MACbG,EAAQ,mBAET,IAAID,EAAME,SAAS,eAAgBF,EAAMG,YAAY,0BAA0BC,OAAOC,OAAOC,cAE5F,IAA4B,IAAxBN,EAAMI,OAAOG,OAChBP,EAAMG,YAAY,0BAA0BC,OAAOC,OAAOG,gBACtD,CACJ,GAAIC,GAAUC,SAASb,EAAKF,WAAWgB,QAAQC,OAC/CnB,GAAEoB,MACDC,OAAQ,OACRC,IAAK,iBAAiBN,EACtBO,QAAS,SAASC,GACjB,GAAoB,gBAATA,GAAmB,MAAOC,SAAQC,IAAIF,KAAUxB,EAAE2B,QAAQC,QAAQ,YAE7E,IAAIJ,EAAKK,OAAO,CACf,GAAIC,GAAW9B,EAAE+B,SAASC,cAAc,QAAQC,KAAK,QAAQ,sBAAsBC,IAAI,UAAU,OACjGlC,GAAEG,KAAKqB,EAAKW,QAAQ,SAASC,EAAEC,GACT,iBAAVA,GAAG,KACbA,EAAG,GAAK,uBAAuBA,EAAG,GAAG,QAAQ,OAAO,MAAMA,EAAG,GAAG,MAAM,MAAM,WAE7EA,EAAG,GAAK,WAAWA,EAAG,IAAI,iBAAiBC,KAAKD,EAAG,IAAM,IAAM,IAAI,YAEnEP,EAASS,OAAO,MAAMF,EAAGG,KAAK,KAAK,UAGpCV,EAASW,YAAYlC,GAAOQ,YAC5BR,EAAMG,YAAY,8BAEdV,GAAE0C,OAAOC,KAAKnC,EAAMgB,EAAKoB,iBAQpC5C,EAAE,YAAYM,GAAG,QAAQ,WACxB,GAAIuC,GAAK7C,EAAE2B,QAAQmB,OACnB,IAAS,IAALD,EAAS,CACZ,GAAItC,GAAQP,EAAEK,MACb0C,EAAMxC,EAAMyC,SACZC,EAAMF,EAAIC,SACVE,EAAMD,EAAI/C,SAAS,OAAOiD,OAE3BD,GAAIhD,SAAS,SAASkD,KAAK,WAC1B,MAAO,KAAKpD,EAAEK,MAAMc,OAAO,MAE5B+B,EAAMA,EAAIE,OAAOC,MAAM,QAEvBrD,EAAE0C,OAAOY,KAAKL,EAAI/C,SAAS,YAAYiB,OAAO,6BAA6B,6BAEtD4B,EAAI7C,SAAS,QAAQkD,OAAOG,OAAOC,QAAQ,OAAO,KAAK,iEAItDN,EAAI,GAAG,mCAENlD,EAAE+B,SAASC,cAAc,QAAQoB,KAAKF,EAAI,IAAI/B,OAAO","file":"logs.min.js","sourcesContent":["$(function(){\r\n\t$('#logs').find('tbody').children().each(function(){\r\n\t\tvar $row = $(this);\r\n\r\n\t\t$row.find('.expand-section').on('click',function(){\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\ttitle = 'Log entry details';\r\n\r\n\t\t\tif ($this.hasClass('typcn-minus')) $this.toggleClass('typcn-minus typcn-plus').next().stop().slideUp();\r\n\t\t\telse {\r\n\t\t\t\tif ($this.next().length === 1)\r\n\t\t\t\t\t$this.toggleClass('typcn-minus typcn-plus').next().stop().slideDown();\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar EntryID = parseInt($row.children().first().text());\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\turl: '/logs/details/'+EntryID,\r\n\t\t\t\t\t\tsuccess: function(data){\r\n\t\t\t\t\t\t\tif (typeof data === 'string') return console.log(data) === $(window).trigger('ajaxerror');\r\n\r\n\t\t\t\t\t\t\tif (data.status){\r\n\t\t\t\t\t\t\t\tvar $dataDiv = $(document.createElement('div')).attr('class','expandable-section').css('display','none');\r\n\t\t\t\t\t\t\t\t$.each(data.details,function(i,el){\r\n\t\t\t\t\t\t\t\t\tif (typeof el[1] === 'boolean')\r\n\t\t\t\t\t\t\t\t\t\tel[1] = '<span class=\"color-'+(el[1]?'green':'red')+'\">'+(el[1]?'yes':'no')+'</span>';\r\n\r\n\t\t\t\t\t\t\t\t\tel[0] = '<strong>'+el[0]+(/[\\wáéíóöőúüű]$/.test(el[0]) ? ':' : '')+'</strong>';\r\n\r\n\t\t\t\t\t\t\t\t\t$dataDiv.append('<p>'+el.join(' ')+'</p>');\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t$dataDiv.insertAfter($this).slideDown();\r\n\t\t\t\t\t\t\t\t$this.toggleClass('typcn-minus typcn-plus');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse $.Dialog.fail(title,data.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t$('.dynt-el').on('click',function(){\r\n\t\tvar ww = $(window).width();\r\n\t\tif (ww < 650){\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\t$td = $this.parent(),\r\n\t\t\t\t$tr = $td.parent(),\r\n\t\t\t\t$ip = $tr.children('.ip').clone();\r\n\r\n\t\t\t$ip.children('.self').html(function(){\r\n\t\t\t\treturn ' ('+$(this).text()+')';\r\n\t\t\t});\r\n\t\t\t$ip = $ip.html().split('<br>');\r\n\r\n\t\t\t$.Dialog.info($tr.children('.entryid').text()+'. bejegyzés rejtett adatai','\\\r\n\t\t\t\t<b>Timestamp:</b> '+$td.children('time').html().trim().replace(/<br>/,' ')+'\\\r\n\t\t\t\t<span class=\"modal-ip\"><br>\\\r\n\t\t\t\t\t<b>Initiator:</b> '+$ip[0]+'<br>\\\r\n\t\t\t\t\t<b>IP Address:</b> '+$(document.createElement('div')).html($ip[1]).text()+'\\\r\n\t\t\t\t</span>'\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n});"],"sourceRoot":"/source/"}
DocReady.push(function(){"use strict";var e=$("#sort-by"),t=$("#full-list"),a=$("#guide-reorder"),r=window.color;e.on("change",function(){var r=e.data("baseurl"),i=e.val(),s=(r+"?ajax&"+i).replace(/&$/,""),l=(r+"?"+i).replace(/\?$/,"");$.Dialog.wait("Changing sort order"),$.get(s,$.mkAjaxHandler(function(){return this.status?(t.html(this.html),a.attr("disabled",!i.length),history.replaceState(history.state,"",l),void $.Dialog.close()):$.Dialog.fail(!1,this.message)}))}),a.on("click",function(){if(a.hasClass("typcn-tick")){$.Dialog.wait("Re-ordering appearances");var e=[];t.children().children("div").children().each(function(){e.push($(this).attr("data-href").split("/").pop())}),$.post("/"+r+"guide/full?reorder",{list:e.join(",")},$.mkAjaxHandler(function(){return this.status?(t.removeClass("sorting").html(this.html),a.removeClass("typcn-tick green").addClass("typcn-arrow-unsorted darkblue").html("Re-order"),void $.Dialog.close()):$.Dialog.fail(!1,this.message)}))}else a.removeClass("typcn-arrow-unsorted darkblue").addClass("typcn-tick green").html("Save"),t.addClass("sorting").children().each(function(){var e=$(this).children("div");e.children().moveAttr("href","data-href"),new Sortable(e.get(0),{ghostClass:"moving",scroll:!1,animation:150})})})});
//# sourceMappingURL=colorguide-full.min.js.map

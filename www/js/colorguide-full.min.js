"use strict";DocReady.push(function(){var t=$("#sort-by"),a=$("#full-list"),e=$("#guide-reorder");t.on("change",function(){var r=t.data("baseurl"),i=t.val(),s=(r+"?ajax&"+i).replace(/&$/,""),l=(r+"?"+i).replace(/\?$/,"");$.Dialog.wait("Changing sort order"),$.get(s,$.mkAjaxHandler(function(){return this.status?(a.html(this.html),e.attr("disabled",!i.length),history.replaceState(history.state,"",l),void $.Dialog.close()):$.Dialog.fail(!1,this.message)}))}),"function"==typeof window.Sortable&&e.on("click",function(){e.hasClass("typcn-tick")?!function(){$.Dialog.wait("Re-ordering appearances");var t=[];a.children().children("div").children().each(function(){t.push($(this).attr("data-href").split("/").pop())}),$.post("/cg/full?reorder",{list:t.join(",")},$.mkAjaxHandler(function(){return this.status?(a.removeClass("sorting").html(this.html),e.removeClass("typcn-tick green").addClass("typcn-arrow-unsorted darkblue").html("Re-order"),void $.Dialog.close()):$.Dialog.fail(!1,this.message)}))}():(e.removeClass("typcn-arrow-unsorted darkblue").addClass("typcn-tick green").html("Save"),a.addClass("sorting").children().each(function(){var t=$(this).children("div");t.children().moveAttr("href","data-href"),new Sortable(t.get(0),{ghostClass:"moving",scroll:!0,animation:150})}))})});
//# sourceMappingURL=colorguide-full.min.js.map

DocReady.push(function(){"use strict";var t=$("#sort-by"),e=$("#full-list"),a=$("#guide-reorder"),r=window.color;t.on("change",function(){var r=t.data("baseurl"),i=t.val(),s=(r+"?ajax&"+i).replace(/&$/,""),l=(r+"?"+i).replace(/\?$/,"");$.Dialog.wait("Changing sort order"),$.get(s,$.mkAjaxHandler(function(){return this.status?(e.html(this.html),a.attr("disabled",!i.length),history.replaceState(history.state,"",l),void $.Dialog.close()):$.Dialog.fail(!1,this.message)}))}),"function"==typeof window.Sortable&&a.on("click",function(){if(a.hasClass("typcn-tick")){$.Dialog.wait("Re-ordering appearances");var t=[];e.children().children("div").children().each(function(){t.push($(this).attr("data-href").split("/").pop())}),$.post("/"+r+"guide/full?reorder",{list:t.join(",")},$.mkAjaxHandler(function(){return this.status?(e.removeClass("sorting").html(this.html),a.removeClass("typcn-tick green").addClass("typcn-arrow-unsorted darkblue").html("Re-order"),void $.Dialog.close()):$.Dialog.fail(!1,this.message)}))}else a.removeClass("typcn-arrow-unsorted darkblue").addClass("typcn-tick green").html("Save"),e.addClass("sorting").children().each(function(){var t=$(this).children("div");t.children().moveAttr("href","data-href"),new Sortable(t.get(0),{ghostClass:"moving",scroll:!0,animation:150})})})});
//# sourceMappingURL=colorguide-full.min.js.map

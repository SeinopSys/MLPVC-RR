!function(t){function e(e,n){return"function"==typeof n&&(n=n(e)),e.data("ctxmenu-items")instanceof jQuery?n&&e.data("ctxmenu-items").children().first().text(n):e.data("ctxmenu-items",(new jQuery).add(t.mk("li").text(n||"Context menu"))),e}function n(e,n){if(e){var a=t.mk("li");if(e===!0)a.addClass("sep");else{var o=t.mk("a");e.text&&o.text(e.text),e.icon&&o.addClass("typcn typcn-"+e.icon),e["default"]===!0&&o.addClass("default"),"undefined"!=typeof e.attr&&("string"==typeof e.attr?o.attr(e.attr,!0):o.attr(e.attr)),"function"==typeof e.click&&o.on("click",function(t){t.stopPropagation(),t.preventDefault(),e.click.call(n.get(0),t),i.hide()}),o.appendTo(a)}n.data("ctxmenu-items",n.data("ctxmenu-items").add(a))}}var i=t.mk("div").attr("id","ctxmenu");i.appendTo($body).on("click",function(t){t.stopPropagation()}).on("contextmenu",function(){return i.hide(),!1}),t.ctxmenu={},t.ctxmenu.setTitle=function(){return e.apply(this,arguments)},t.fn.ctxmenu=function(a,o){return t(this).each(function(){var c=t(this);e(c,o),t.each(a,function(t,e){n(e,c)}),c.on("contextmenu",function(e){e.preventDefault(),e.stopPropagation(),c.trigger("mouseleave"),i.html(c.data("ctxmenu-items").clone(!0,!0)).css({top:e.pageY,left:e.pageX,opacity:0}).show();var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=t(document).scrollTop(),u=i.position(),r=u.top>a+o||u.top>a-o?e.pageY-i.outerHeight():!1,d=u.left<0-i.width()||u.left>n?e.pageX-i.outerWidth():!1;r!==!1&&i.css("top",r),d!==!1&&i.css("left",d),i.css("opacity",1)}).addClass("ctxmenu-bound")})},t.ctxmenu.addItem=t.ctxmenu.addItems=function(i){var a=arguments.length;if(2>a)throw new Error("Invalud number of arguments ("+a+") for $.ctxmenu.addItems");var o=[].slice.apply(arguments);o.splice(0,1),i.each(function(){var i=t(this);return"undefined"==typeof i.data("ctxmenu-items")?i.ctxmenu(o):(e(i),void t.each(o,function(t,e){n(e,i)}))})},t.ctxmenu.triggerItem=function(t,e){var n=t.data("ctxmenu-items").filter(":not(.sep)");if(1>e||n.length-1<e)throw new Error("There's no such menu option: "+e);n.eq(e).children("a").triggerHandler("click")},$body.on("click contextmenu",function(){i.hide()}),$w.on("blur resize",function(){i.hide()})}(jQuery);
//# sourceMappingURL=jquery.ctxmenu.min.js.map
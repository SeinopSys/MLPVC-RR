"use strict";!function(t){function e(e,n){return"function"==typeof n&&(n=n(e)),e.data("ctxmenu-items")instanceof jQuery?n&&e.data("ctxmenu-items").children().first().text(n):e.data("ctxmenu-items",(new jQuery).add(t.mk("li").text(n||"Context menu"))),e}function n(e,n){if(e){var i=t.mk("li");if(e===t.ctxmenu.separator)i.addClass("sep");else{var c=t.mk("a");e.text&&c.text(e.text),e.icon&&c.addClass("typcn typcn-"+e.icon),e["default"]===!0&&c.addClass("default"),"undefined"!=typeof e.attr&&("string"==typeof e.attr?c.attr(e.attr,!0):c.attr(e.attr)),"function"==typeof e.click&&c.on("click",function(t){t.stopPropagation(),t.preventDefault(),e.click.call(n.get(0),t),a.hide()}),c.appendTo(i)}n.data("ctxmenu-items",n.data("ctxmenu-items").add(i))}}var a=t.mk("div").attr("id","ctxmenu");a.appendTo($body).on("click",function(t){t.stopPropagation(),a.hide()}).on("contextmenu",function(e){var n=t(e.target);switch(e.target.nodeName.toLowerCase()){case"li":n.children("a").trigger("click");break;case"a":n.trigger("click")}return!1}),t.ctxmenu={separator:!0},t.ctxmenu.setTitle=function(){return e.apply(this,arguments)},t.fn.ctxmenu=function(i,c){return t(this).each(function(){var o=t(this);e(o,c),t.each(i,function(t,e){n(e,o)}),o.on("contextmenu",function(e){if(!e.shiftKey){e.preventDefault(),e.stopPropagation(),o.trigger("mouseleave"),a.html(o.data("ctxmenu-items").clone(!0,!0)).css({top:e.pageY,left:e.pageX,opacity:0}).show();var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0),c=t(document).scrollTop(),r=a.position(),u=(r.top>i+c||r.top>i-c)&&e.pageY-a.outerHeight(),d=(r.left<0-a.width()||r.left>n)&&e.pageX-a.outerWidth();u!==!1&&a.css("top",u),d!==!1&&a.css("left",d),a.css("opacity",1)}}).addClass("ctxmenu-bound")})},t.ctxmenu.addItem=t.ctxmenu.addItems=function(a){var i=arguments.length;if(i<2)throw new Error("Invalud number of arguments ("+i+") for $.ctxmenu.addItems");var c=t.toArray(arguments);c.splice(0,1),a.each(function(){var a=t(this);return"undefined"==typeof a.data("ctxmenu-items")?a.ctxmenu(c):(e(a),void t.each(c,function(t,e){return n(e,a)}))})},t.ctxmenu.triggerItem=function(t,e){var n=t.data("ctxmenu-items").filter(":not(.sep)");if(e<1||n.length-1<e)throw new Error("There's no such menu option: "+e);n.eq(e).children("a").triggerHandler("click")},t.ctxmenu.setDefault=function(t,e){var n=t.data("ctxmenu-items").filter(":not(.sep)");n.find("a").removeClass("default"),n.eq(e).children("a").addClass("default")},t.ctxmenu.runDefault=function(t){return t.data("ctxmenu-items").find("a.default").trigger("click")},$body.on("click contextmenu",function(){a.hide()}),$w.on("blur resize",function(){a.hide()})}(jQuery);
//# sourceMappingURL=jquery.ctxmenu.min.js.map

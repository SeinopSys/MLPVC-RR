!function(e){"use strict";if("undefined"==typeof e.Navigation||e.Navigation.firstLoadDone!==!0){"function"!=typeof window.console.log&&(window.console.log=function(){}),"function"!=typeof window.console.group&&(window.console.group=function(){}),"function"!=typeof window.console.groupEnd&&(window.console.groupEnd=function(){}),"function"!=typeof window.console.warn&&(window.console.warn=function(){}),"function"!=typeof window.console.clear&&(window.console.clear=function(){});var o=function(){return document.createElement.apply(document,arguments)};window.mk=function(){return o.apply(window,arguments)},e.mk=function(){return e(document.createElement.apply(document,arguments))},e.urlToAbsolute=function(e){var t=o("a");return t.href=e,t.href},window.$w=e(window),window.$d=e(document),window.CommonElements=function(){window.$header=e("header"),window.$sbToggle=e(".sidebar-toggle"),window.$main=e("#main"),window.$content=e("#content"),window.$sidebar=e("#sidebar"),window.$footer=e("footer"),window.$body=e("body"),window.$head=e("head"),window.$navbar=$header.find("nav")},window.CommonElements(),window.Key={Enter:13,Space:32,LeftArrow:37,RightArrow:39,Tab:9,Comma:188},e.isKey=function(e,o){return o.keyCode===e},e.capitalize=function(e,o){return o?e.replace(/((?:^|\s)[a-z])/g,function(e){return e.toUpperCase()}):1===e.length?e.toUpperCase():e[0].toUpperCase()+e.substring(1)},"function"!=typeof Array.prototype.includes&&(Array.prototype.includes=function(e){return-1!==this.indexOf(e)}),e.pad=function(o,t,n,i){for("string"!=typeof o&&(o=""+o),"string"!=typeof t&&(t="0"),n="number"!=typeof n&&!isFinite(n)&&isNaN(n)?2:parseInt(n,10),"boolean"!=typeof i&&(i=!0);o.length<n;)o=i===e.pad.left?t+o:o+t;return o},e.pad.right=!(e.pad.left=!0),$w.on("ajaxerror",function(){var o="";if(arguments.length>1){var t=[].slice.call(arguments,1);if("abort"===t[1])return;o=" Details:<pre><code>"+t.slice(1).join("\n").replace(/</g,"&lt;")+"</code></pre>",o+=" Response body:";var n=/^(?:<br \/>\n)?(<pre class='xdebug-var-dump'|<font size='1')/;o+=n.test(t[0].responseText)?'<div class="reset">'+t[0].responseText.replace(n,"$1")+"</div>":"<pre><code>"+t[0].responseText.replace(/</g,"&lt;")+"</code></pre>"}e.Dialog.fail(!1,"There was an error while processing your request."+o)}),e.mkAjaxHandler=function(e){return function(o){return"object"!=typeof o?(console.log(o),void $w.triggerHandler("ajaxerror")):void("function"==typeof e&&e.call(o))}},e.callCallback=function(o,t,n){return"object"==typeof t&&e.isArray(t)||(n=t,t=[]),"function"!=typeof o?n:o.apply(window,t)},e.fn.mkData=function(o){var t=e(this).serializeArray(),n={};return e.each(t,function(e,o){n[o.name]=o.value}),"object"==typeof o&&e.extend(n,o),n},e.getCSRFToken=function(){var e=document.cookie.match(/CSRF_TOKEN=([a-z\d]+)/i);if(e&&e.length)return e[1];throw new Error("Missing CSRF_TOKEN")},e.ajaxPrefilter(function(o,t){if("POST"===(t.type||o.type).toUpperCase()){var n=e.getCSRFToken();if("undefined"==typeof o.data&&(o.data=""),"string"==typeof o.data){var i=o.data.length>0?o.data.split("&"):[];i.push("CSRF_TOKEN="+n),o.data=i.join("&")}else o.data.CSRF_TOKEN=n}});var t;e.ajaxSetup({dataType:"json",error:function(e){-1===[401,404,500,503].indexOf(e.status)&&$w.triggerHandler("ajaxerror",[].slice.call(arguments)),$body.removeClass("loading")},beforeSend:function(e,o){t=o.url},statusCode:{401:function(){e.Dialog.fail(void 0,"Cross-site Request Forgery attack detected. Please notify the site administartors.")},404:function(){e.Dialog.fail(!1,"Error 404: The requested endpoint ("+t.replace(/</g,"&lt;").replace(/\//g,"/<wbr>")+") could not be found")},500:function(){e.Dialog.fail(!1,'The request failed due to an internal server error. If this persists, please <a href="#feedback" class="send-feedback">let us know</a>!')},503:function(){e.Dialog.fail(!1,'The request failed because the server is temporarily unavailable. This whouldn\'t take too long, please try again in a few seconds.<br>If the problem still persist after a few minutes, please let us know by clicking the "Send feedback" link in the footer.')}}}),e.copy=function(o){if(!document.queryCommandSupported("copy"))return prompt("Copy with Ctrl+C, close with Enter",o),!0;var t=e.mk("textarea"),n=!1;t.css({opacity:0,width:0,height:0,position:"fixed",left:"-10px",top:"50%",display:"block"}).text(o).appendTo("body").focus(),t.get(0).select();try{n=document.execCommand("copy")}catch(i){}n||e.Dialog.fail("Copy to clipboard","Copying text to clipboard failed!"),setTimeout(function(){t.remove()},1)},e.hex2rgb=function(e){return{r:parseInt(e.substring(1,3),16),g:parseInt(e.substring(3,5),16),b:parseInt(e.substring(5,7),16)}},e.rgb2hex=function(e){return"#"+(16777216+(parseInt(e.r,10)<<16)+(parseInt(e.g,10)<<8)+parseInt(e.b,10)).toString(16).toUpperCase().substring(1)},"function"!=typeof e.expr[":"].valid&&e.extend(e.expr[":"],{valid:function(e){return e.validity.valid}}),e.roundTo=function(e,o){var t=Math.pow(10,o);return Math.round(e*t)/t},e.rangeLimit=function(e,o){var t,n,i=2;switch(arguments.length-i){case 1:t=0,n=arguments[i];break;case 2:t=arguments[i],n=arguments[i+1];break;default:throw new Error("Invalid number of parameters for $.rangeLimit")}return o&&(e>n?e=t:t>e&&(e=n)),Math.min(n,Math.max(t,e))};var n=/^#?([A-Fa-f0-9]{3})$/;window.SHORT_HEX_COLOR_PATTERN=n,e.hexpand=function(e){var o=e.trim().match(n);return o?(o=o[1],"#"+o[0]+o[0]+o[1]+o[1]+o[2]+o[2]):e.replace(/^#?/,"#")},e.fn.toggleHtml=function(o){return this.html(o[e.rangeLimit(o.indexOf(this.html())+1,!0,o.length-1)]),this},e.fn.moveAttr=function(o,t){return this.each(function(){var n=e(this),i=n.attr(o);"undefined"!=typeof i&&n.removeAttr(o).attr(t,i)}),this},e.fn.backgroundImageUrl=function(e){return this.css("background-image",'url("'+e.replace(/"/g,"%22")+'")'),this},e.attributifyRegex=function(e){return e.toString().replace(/(^\/|\/[img]*$)/g,"")},e.fn.patternAttr=function(o){return this.attr("pattern",e.attributifyRegex(o)),this},e.fn.enable=function(){return this.attr("disabled",!1),this},e.fn.disable=function(){return this.attr("disabled",!0),this},e.scrollTo=function(o,t,n){e("html,body").animate({scrollTop:o},t,n)},window.URL=function(o){var t=document.createElement("a"),n={};return t.href=o,e.each(["hash","host","hostname","href","origin","pathname","port","protocol","search"],function(e,o){n[o]=t[o]}),n.pathString=n.pathname.replace(/^([^\/].*)$/,"/$1")+n.search+n.hash,n},window.OpenSidebarByDefault=function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)>=1200};var i=function(e,o){var t="undefined"!=typeof window.screenLeft?window.screenLeft:screen.left,n="undefined"!=typeof window.screenTop?window.screenTop:screen.top,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,r=i/2-e/2+t,c=a/2-o/2+n;return{top:c,left:r}};e.PopupOpenCenter=function(e,o,t,n){var a=i(t,n),r=window.open(e,o,"scrollbars=yes,width="+t+",height="+n+",top="+a.top+",left="+a.left);return window.focus&&r.focus(),r},e.PopupMoveCenter=function(e,o,t){var n=i(o,t);e.resizeTo(o,t),e.moveTo(n.left,n.top)};var a=function(){console.log("> DocReadyAlwaysRun()"),$d.triggerHandler("paginate-refresh");var o=window.OAUTH_URL,t=localStorage.getItem("cookie_consent");e("#signin").off("click").on("click",function(){var n=e(this),i=function(t){if(t){e.Dialog.close(),localStorage.setItem("cookie_consent",1),n.attr("disabled",!0);var i=function(){e.Dialog.wait(!1,"Redirecting you to DeviantArt"),window.location.href=o+"&state="+encodeURIComponent(window.location.href.replace(window.location.origin,""))};if(-1!==navigator.userAgent.indexOf("Trident"))return i();var a,r,c=(~~(99999999*Math.random())).toString(36),s=!1;window[" "+c]=function(){s=!0,clearInterval(a),e.Dialog.wait(!1,"Reloading page"),e.Navigation.reload(function(){e.Dialog.close(),r.close()})};try{r=e.PopupOpenCenter(o+"&state="+c,"login","450","580")}catch(l){}var d=function(){if(!s){if(-1!==document.cookie.indexOf("auth="))return window[" "+c];e.Dialog.fail(!1,"Popup-based login unsuccessful"),i()}};a=setInterval(function(){try{r&&!r.closed||(clearInterval(a),d())}catch(e){}},500),$w.on("beforeunload",function(){s=!0,r.close()}),e.Dialog.wait("Sign-in process","Opening popup window"),e.Dialog.wait(!1,"Waiting for you to sign in")}};t?i(!0):e.Dialog.confirm("EU Cookie Policy Notice",'In compliance with the <a href="http://ec.europa.eu/ipg/basics/legal/cookies/index_en.htm">EU Cookie Policy</a> we must inform you that our website will store cookies on your device to remember your logged in status between browser sessions.<br><br>If you would like to avoid these completly harmless pieces of information required to use this website, click "Decline" and continue browsing as a guest.<br><br>This warning will not appear again if you accept our use of persistent cookies.',["Accept","Decline"],i)}),e("#signout").off("click").on("click",function(){var o="Sign out";e.Dialog.confirm(o,"Are you sure you want to sign out?",function(t){t&&(e.Dialog.wait(o,"Signing out"),e.post("/signout",e.mkAjaxHandler(function(){return this.status?void e.Navigation.reload(function(){e.Dialog.close()}):e.Dialog.fail(o,this.message)})))})});try{if(/^https/.test(location.protocol))throw void 0;var n=sessionStorage.getItem("canhttps");if("false"===n)throw void 0;e.ajax({method:"POST",url:"https://"+location.host+"/ping",success:e.mkAjaxHandler(function(){this.status&&$sidebar.append(e.mk("a").attr({"class":"btn green typcn typcn-lock-closed",href:location.href.replace(/^http:/,"https:")}).text("Switch to HTTPS")),sessionStorage.setItem("canhttps",n=this.status.toString())}),error:function(){sessionStorage.setItem("canhttps",n="false")}})}catch(i){}};e.Navigation=function(o){o=this;var t=[];window.DocReady={push:function(e,o){"function"==typeof o&&(e.flush=o),t.push(e)}};var n=function(){console.log("> _docReady()"),a();var e=t.length;if(e)for(var o=0;e>o;o++)t[o].call(window),console.log("> DocReadyHandlers[%d]()",o)};o.docReady=function(){n()},o.flushDocReady=function(){for(var e=0,o=t.length;o>e;e++)"function"==typeof t[e].flush&&(t[e].flush(),console.log("Flushed DocReady handler #%d",e));t=[]};var i=!1,r=function(o,t){return o.length?(console.group("Loading CSS"),void function n(a){if(a>=o.length)return console.groupEnd(),e.callCallback(t);var r=o[a];i=e.ajax({url:r,dataType:"text",success:function(o){o=o.replace(/url\((['"])?\.\.\//g,"url($1/"),$head.append(e.mk("style").attr("href",r).text(o)),console.log("%c#%d (%s)","color:green",a,r)},error:function(){console.log("%c#%d (%s)","color:red",a,r)},complete:function(){n(a+1)}})}(0)):e.callCallback(t)},c=function(o,t){return o.length?(console.group("Loading JS"),void function n(a){if(a>=o.length)return console.groupEnd(),e.callCallback(t);var r=o[a];i=e.ajax({url:r,dataType:"text",success:function(o){$body.append(e.mk("script").attr("data-src",r).text(o.replace(/(\/\/#\s*sourceMappingURL=)(.*)/g,"$1/js/$2"))),console.log("%c#%d (%s)","color:green",a,r)},error:function(){console.log("%c#%d (%s)","color:red",a,r)},complete:function(){n(a+1)}})}(0)):e.callCallback(t)},s=function(t,n,a){if(console.clear(),console.group("[AJAX-Nav] PING %s (block_reload: %s)",t,a),i!==!1){try{i.abort(),console.log("Previous AJAX request aborted")}catch(s){}i=!1}$body.addClass("loading");var l=e.ajax({url:t,data:{"via-js":!0},success:e.mkAjaxHandler(function(){if(i!==l)return console.log("%cAJAX request objects do not match, bail","color:red"),void console.groupEnd();if(!this.status)return $body.removeClass("loading"),i=!1,console.log("%cNavigation error %s","color:red",this.message),console.groupEnd(),e.Dialog.fail("Navigation error",this.message);t=new URL(this.responseURL).pathString+new URL(t).hash,$w.triggerHandler("unload"),window.OpenSidebarByDefault()||$sbToggle.trigger("sb-close");var s=this.css,d=this.js,u=this.content,f=this.sidebar,p=this.footer,g=this.title,h=this.avatar;$main.empty();var w=!1,m=new URL(location.href),v=!a&&m.pathString===t;if(o.flushDocReady(),console.group("Checking JS files to skip..."),$body.children("script[src], script[data-src]").each(function(){var o=e(this),t=o.attr("src")||o.attr("data-src");if(v)return/js\/dialog\./.test(t)||o.remove(),!0;var n=d.indexOf(t);if(-1===n||/js\/colorguide[\.\-]/.test(t)){if(-1!==t.indexOf("global"))return!(w=!0);o.remove()}else d.splice(n,1),console.log("%cSkipped %s","color:saddlebrown",t)}),console.log("%cFinished.","color:green"),console.groupEnd(),w!==!1)return console.log("%cFull page reload forced by changes in global.js","font-weight:bold;color:orange"),console.groupEnd(),location.href=t;console.group("Checking CSS files to skip...");var y="link[href], style[href]";$head.children(y).each(function(){var o=e(this),t=o.attr("href"),n=s.indexOf(t);-1!==n?(s.splice(n,1),console.log("%cSkipped %s","color:saddlebrown",t)):o.attr("data-remove","true")}),console.log("%cFinished.","color:green"),console.groupEnd(),console.groupEnd(),console.group("[AJAX-Nav] GET %s",t),r(s,function(){$head.children(y.replace(/href/g,"data-remove=true")).remove(),$main.addClass("pls-wait").html(u),$sidebar.html(f),$footer.html(p),window.updateTimes(),window.setCD();var r=$header.find("nav").children();r.children().first().children("img").attr("src",h),r.children(":not(:first-child)").remove(),r.append($sidebar.find("nav").children().children().clone()),window.CommonElements(),a||history[m.pathString===t?"replaceState":"pushState"]({"via-js":!0},"",t),document.title=g,o.lastLoadedPathname=window.location.pathname,c(d,function(){e.Navigation.docReady(),console.log("%cDocument ready","color:green"),console.groupEnd(),$body.removeClass("loading"),$main.removeClass("pls-wait"),e.callCallback(n),i=!1})})})});i=l};o.visit=function(){s.apply(o,arguments)},o.lastLoadedPathname=window.location.pathname;var l=function(e,o){var t="number"==typeof o&&o>0?function(){setTimeout(e,o)}:e;s(location.pathname+location.search+location.hash,t)};return o.reload=function(){l.apply(o,arguments)},o.firstLoadDone=!1,o}.call({})}}(jQuery),$(function(){"use strict";$.Navigation.firstLoadDone||(console.log("[HTTP-Nav] > $(document).ready()"),console.group("[HTTP-Nav] GET "+window.location.pathname+window.location.search+window.location.hash),function(){var e=function(){setTimeout(function(){$w.trigger("resize")},510)};$sbToggle.off("click sb-open sb-close").on("click",function(e){e.preventDefault(),$sbToggle.trigger("sb-"+($body.hasClass("sidebar-open")?"close":"open"))}).on("sb-open sb-close",function(o){var t="close"===o.type.substring(3);$body[t?"removeClass":"addClass"]("sidebar-open"),localStorage[t?"setItem":"removeItem"]("sidebar-closed","true"),e()}),"true"!==localStorage.getItem("sidebar-closed")&&window.OpenSidebarByDefault()&&($body.addClass("sidebar-open"),e())}(),function(){var e,o,t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=function(){var t,n,i="function"==typeof e.parent&&e.parent().length>0,a={};if(i&&(t=new Date,n=new Date(e.attr("datetime")),a=getTimeDiff(t,n)),!i||a.past)return i&&e.parents("li").remove(),clearInterval(o),window.setCD();var r="in ";a.time<one.month?(a.week>0&&(a.day+=7*a.week),a.day>0&&(r+=a.day+" day"+(1!==a.day?"s":"")+" & "),a.hour>0&&(r+=a.hour+":"),r+=$.pad(a.minute)+":"+$.pad(a.second)):r=createTimeStr(t,n),e.text(r)};window.setCD=function(){var i=$("#upcoming");if(i.length){var a=i.children("ul").children();if(!a.length)return i.remove();e=a.first().find("time").addClass("nodt"),o=setInterval(n,1e3),n(),i.find("li").each(function(){var e=$(this),o=e.children(".calendar"),n=new Date(e.find(".countdown").data("airs")||e.find("time").attr("datetime"));o.children(".top").text(t[n.getMonth()]),o.children(".bottom").text(n.getDate())}),window.updateTimes()}},window.setCD(),$w.on("unload",function(){e={parent:!1}})}(),$(document).off("click",".send-feedback").on("click",".send-feedback",function(e){e.preventDefault(),e.stopPropagation(),$("#ctxmenu").hide(),$.Dialog.info("How to send feedback",$.mk("div").append("<p>If you're having an issue with the site and would like to let the developer know, here's how you can contact him:</p>",$.mk("ul").append("<li>Send a note to <a href='http://djdavid98.deviantart.com/'>DJDavid98</a> on DeviantArt</li>","<li>Send an e-mail to <a href='mailto:seinopsys@gmail.com'>seinopsys@gmail.com</a></li>","<li>Add <a href='skype:guzsik.david?add'>guzsik.david</a> on Skype</li>"),$.mk("p").attr("class","notice info").append("If you have a GitHub account, please ",$.mk("a").attr("href",$footer.find("a.issues").attr("href")).text("create an issue")," on the project's GitHub page instead of using the methods above.")).children(),"feedback-form")}),$(document).off("click",".action--color-avg").on("click",".action--color-avg",function(e){e.preventDefault(),e.stopPropagation();var o="Colour Average Calculator",t=function(){$.Dialog.close(),$.Dialog.request(o,window.$ColorAvgForm.clone(!0,!0),"color-avg-form","Save progress",function(e){e.triggerHandler("added")})};if("undefined"==typeof window.$ColorAvgForm){$.Dialog.wait(o,"Loading form, please wait");var n="/js/global-color_avg_form.min.js";$.getScript(n,t).fail(function(){setTimeout(function(){$.Dialog.close(function(){$.Dialog.wait(o,"Loading script (attempt #2)"),$.getScript(n.replace(/min\./,""),t).fail(function(){$.Dialog.fail(o,"Form could not be loaded")})})},1)})}else t()}),$d.on("click","a[href]",function(e){if(e.which>2)return!0;var o=this;return o.host!==location.host?!0:o.pathname===location.pathname&&o.search===location.search?!0:/^.*\/[^.]*$/.test(o.pathname)?(0!==$(this).parents("#dialogContent").length&&$.Dialog.close(),e.preventDefault(),void $.Navigation.visit(this.href)):!0}),$w.on("popstate",function(e){var o=e.originalEvent.state,t=function(e,o){$.Navigation.visit(e,o,!0)};return null===o||o["via-js"]||o.paginate!==!0?void t(location.href):$w.trigger("nav-popstate",[o,t])}),$.Navigation.docReady(),console.log("%cDocument ready","color:green"),console.groupEnd(),$.Navigation.firstLoadDone=!0)}),$w.on("load",function(){"use strict";$body.removeClass("loading")});
//# sourceMappingURL=global.min.js.map

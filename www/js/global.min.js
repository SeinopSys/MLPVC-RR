function DocumentIsReady(){if($document.triggerHandler("paginate-refresh"),!(window.DocReady.length<1))for(var e=0,t=window.DocReady.length;t>e;e++)window.DocReady[e].call(window)}!function(e){e.mk=function(){return e(document.createElement.apply(document,arguments))},e.urlToAbsolute=function(t){var n=e.mk("a");return n.href=t,n.href},e.extend(window,{$w:e(window),$document:e(document),$body:e(document.body),$head:e(document.head),$header:e("header"),$main:e("#main"),$sidebar:e("#sidebar"),$footer:e("footer")}),$w.on("ajaxerror",function(){e.Dialog.fail(!1,"There was an error while processing your request. You may find additional details in the browser's console.")}),e.mkAjaxHandler=function(e){return function(t){return"object"!=typeof t?(console.log(t),void $w.trigger("ajaxerror")):void("function"==typeof e&&e.call(t))}},e.fn.mkData=function(t){var n=e(this).serializeArray(),o={};return e.each(n,function(e,t){o[t.name]=t.value}),"object"==typeof t&&e.extend(o,t),o},e.getCSRFToken=function(){var e=document.cookie.match(/CSRF_TOKEN=([a-z\d]+)/i);if(e&&e.length)return e[1];throw new Error("Missing CSRF_TOKEN")},e.ajaxPrefilter(function(t){var n=e.getCSRFToken();if("undefined"==typeof t.data&&(t.data=""),"string"==typeof t.data){var o=t.data.length>0?t.data.split("&"):[];o.push("CSRF_TOKEN="+n),t.data=o.join("&")}else t.data.CSRF_TOKEN=n}),e.ajaxSetup({statusCode:{401:function(){e.Dialog.fail(void 0,"Cross-site Request Forgery attack detected. Please notify the site administartors.")},404:function(){e.Dialog.fail(void 0,"Error 404: The requested endpoint could not be found")},500:function(){e.Dialog.fail(!1,"The request failed due to an internal server error. If this persists, please open an issue on GitHub using the link in the footer!")}}}),e.copy=function(t){if(!document.queryCommandSupported("copy"))return prompt("Copy with Ctrl+C, close with Enter",t),!0;var n=e.mk("textarea"),o=!1;n.css({opacity:0,width:0,height:0,position:"fixed",left:"-10px",top:"50%",display:"block"}).text(t).appendTo("body").focus(),n.get(0).select();try{o=document.execCommand("copy")}catch(i){}o||e.Dialog.fail("Copy to clipboard","Copying text to clipboard failed!"),setTimeout(function(){n.remove()},1)}}(jQuery),DocReady.push(function(){function e(e){return 10>e?"0"+e:e}function t(t){var n=new Date,o=new Date(t.attr("datetime")),i=getTimeDiff(n,o);if(i.past===!0||0===t.length){if(t.length>0){var r=t,s=r.parents("li").next().find("time");r.parents("li").remove()}return clearInterval(a),0===t.length||0===s.length?$("#upcoming").remove():window.setCD()}var c="in ";i.time<one.month?(i.week>0&&(i.day+=7*i.week),i.day>0&&(c+=i.day+" day"+(1!==i.day?"s":"")+" & "),i.hour>0&&(c+=i.hour+":"),c+=+e(i.minute)+":"+e(i.second)):c=createTimeStr(n,o),t.text(c)}var n=window.OAUTH_URL,o=localStorage.getItem("cookie_consent");$("#signin").on("click",function(){var e=$(this),t=function(t){t&&(localStorage.setItem("cookie_consent",1),e.attr("disabled",!0),$.Dialog.wait("Sign-in process","Redirecting you to DeviantArt",function(){window.location.href=n}))};void 0==o?$.Dialog.confirm("EU Cookie Policy Notice",'In compliance with the <a href="http://ec.europa.eu/ipg/basics/legal/cookies/index_en.htm">EU Cookie Policy</a> we must inform you that our website will store cookies on your device to remember your logged in status between browser sessions.<br><br>If you would like to avoid these completly harmless pieces of information required to use this website, click "Decline" and continue browsing as a guest.<br><br>This warning will not appear again if you accept our use of persistent cookies.',["Accept","Decline"],t):t(!0)});var i,a,r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];window.setCD=function(){var e=$("#upcoming");0!==e.length&&(i=e.find("li").first().find("time").addClass("nodt"),a=setInterval(function(){t(i)},1e3),t(i),e.find("li").each(function(){var e=$(this),t=e.children(".calendar"),n=new Date(e.find(".countdown").data("airs")||e.find("time").attr("datetime"));t.children(".top").text(r[n.getMonth()]),t.children(".bottom").text(n.getDate())}),window.updateTimesF())},window.setCD(),$w.on("unload",function(){clearInterval(a)}),$("#signout").on("click",function(){var e="Sign out";$.Dialog.confirm(e,"Are you sure you want to sign out?",function(t){t&&($.Dialog.wait(e,"Signing out"),$.post("/signout",$.mkAjaxHandler(function(){this.status?($.Dialog.success(e,this.message),setTimeout(function(){window.location.reload()},1e3)):$.Dialog.fail(e,this.message)})))})})}),$(function(){function e(e){n!==!1&&n.abort();var o="Navigation";t.addClass("loading"),n=$.ajax({url:e,data:{"via-js":!0},success:$.mkAjaxHandler(function(){this.status||$.Dialog.fail(o,this.message),e=this.responseURL,$w.triggerHandler("unload"),t.removeClass("sidebar-open");var i=this.css,a=this.js,r=this.content,s=this.sidebar,c=this.footer;$main.empty(),$head.children("link[href], style[href]").each(function(){var e=$(this),t=e.attr("href"),n=i.indexOf(t);-1!==n?i.splice(n,1):e.remove()}),function d(o){if(o>=i.length){$main.addClass("pls-wait").html(r),$sidebar.html(s),$footer.html(c),window.updateTimesF();var l=$header.find("nav").children();return l.children(":not(:first-child)").remove(),l.append($sidebar.find("nav").children().children().clone()),history[location.pathname===e?"replaceState":"pushState"]({"via-js":!0},"",e),t.children("script[src], script[data-src]").each(function(){var e=$(this),t=e.attr("src")||e.attr("data-src"),n=a.indexOf(t);-1!==n?a.splice(n,1):e.remove()}),window.DocReady=[],function f(e){if(e>=a.length)return DocumentIsReady(),t.removeClass("loading"),$main.removeClass("pls-wait"),void(n=!1);var o=a[e];$.ajax({url:o,dataType:"text",success:function(n){t.append($.mk("script").attr("data-src",o).text(n)),f(e+1)}})}(0)}var u=i[o];$.ajax({url:u,success:function(e){$head.append($.mk("style").attr("href",u).text(e)),d(o+1)}})}(0)})})}var t=$(document.body);$(".sidebar-toggle").on("click",function(e){e.preventDefault(),t.toggleClass("sidebar-open")});var n=!1,o=window.REWRITE_REGEX;$document.on("click","a[href]",function(t){if(t.which>2)return!0;var n=this;return n.hostname===location.hostname&&o.test(n.pathname)?(t.preventDefault(),void e(this.href)):!0}),$w.on("popstate",function(t){var n=t.originalEvent.state;return n["via-js"]?void e(location.pathname,n):$w.trigger("nav-popstate",[n])}),DocumentIsReady()}),$w.on("load",function(){$body.removeClass("loading")});
//# sourceMappingURL=global.min.js.map
!function(e){"use strict";if("undefined"==typeof e.Navigation||e.Navigation.firstLoadDone!==!0){"function"!=typeof window.console.log&&(window.console.log=function(){}),"function"!=typeof window.console.group&&(window.console.group=function(){}),"function"!=typeof window.console.groupEnd&&(window.console.groupEnd=function(){}),"function"!=typeof window.console.warn&&(window.console.warn=function(){}),"function"!=typeof window.console.clear&&(window.console.clear=function(){});var t=function(){return document.createElement.apply(document,arguments)};window.mk=function(){return t.apply(window,arguments)},e.mk=function(){return e(document.createElement.apply(document,arguments))},e.urlToAbsolute=function(e){var n=t("a");return n.href=e,n.href},window.$w=e(window),window.$d=e(document),window.CommonElements=function(){window.$header=e("header"),window.$sbToggle=e(".sidebar-toggle"),window.$main=e("#main"),window.$content=e("#content"),window.$sidebar=e("#sidebar"),window.$footer=e("footer"),window.$body=e("body"),window.$head=e("head"),window.$navbar=$header.find("nav")},window.CommonElements(),window.Key={Enter:13,Space:32,LeftArrow:37,RightArrow:39,Tab:9,Comma:188},e.isKey=function(e,t){return t.keyCode===e},e.capitalize=function(e,t){return t?e.replace(/((?:^|\s)[a-z])/g,function(e){return e.toUpperCase()}):1===e.length?e.toUpperCase():e[0].toUpperCase()+e.substring(1)},"function"!=typeof Array.prototype.includes&&(Array.prototype.includes=function(e){return-1!==this.indexOf(e)}),e.pad=function(t,n,o,a){for("string"!=typeof t&&(t=""+t),"string"!=typeof n&&(n="0"),o="number"!=typeof o&&!isFinite(o)&&isNaN(o)?2:parseInt(o,10),"boolean"!=typeof a&&(a=!0);t.length<o;)t=a===e.pad.left?n+t:t+n;return t},e.pad.right=!(e.pad.left=!0),$w.on("ajaxerror",function(){var t="";if(arguments.length>1){var n=[].slice.call(arguments,1);if("abort"===n[1])return;t=" Details:<pre><code>"+n.slice(1).join("\n").replace(/</g,"&lt;")+"</code></pre>",t+=" Response body:";var o=/^(?:<br \/>\n)?(<pre class='xdebug-var-dump')/;t+=o.test(n[0].responseText)?'<div class="reset">'+n[0].responseText.replace(o,"$1")+"</div>":"<pre><code>"+n[0].responseText.replace(/</g,"&lt;")+"</code></pre>"}e.Dialog.fail(!1,"There was an error while processing your request."+t)}),e.mkAjaxHandler=function(e){return function(t){return"object"!=typeof t?(console.log(t),void $w.triggerHandler("ajaxerror")):void("function"==typeof e&&e.call(t))}},e.callCallback=function(t,n,o){return"object"==typeof n&&e.isArray(n)||(o=n,n=[]),"function"!=typeof t?o:t.apply(window,n)},e.fn.mkData=function(t){var n=e(this).serializeArray(),o={};return e.each(n,function(e,t){o[t.name]=t.value}),"object"==typeof t&&e.extend(o,t),o},e.getCSRFToken=function(){var e=document.cookie.match(/CSRF_TOKEN=([a-z\d]+)/i);if(e&&e.length)return e[1];throw new Error("Missing CSRF_TOKEN")},e.ajaxPrefilter(function(t,n){if("POST"===(n.type||t.type).toUpperCase()){var o=e.getCSRFToken();if("undefined"==typeof t.data&&(t.data=""),"string"==typeof t.data){var a=t.data.length>0?t.data.split("&"):[];a.push("CSRF_TOKEN="+o),t.data=a.join("&")}else t.data.CSRF_TOKEN=o}});var n;e.ajaxSetup({dataType:"json",error:function(e){-1===[401,404,500,503].indexOf(e.status)&&$w.triggerHandler("ajaxerror",[].slice.call(arguments)),$body.removeClass("loading")},beforeSend:function(e,t){n=t.url},statusCode:{401:function(){e.Dialog.fail(void 0,"Cross-site Request Forgery attack detected. Please notify the site administartors.")},404:function(){e.Dialog.fail(!1,"Error 404: The requested endpoint ("+n.replace(/</g,"&lt;").replace(/\//g,"/<wbr>")+") could not be found")},500:function(){e.Dialog.fail(!1,'The request failed due to an internal server error. If this persists, please <a href="#feedback" class="send-feedback">let us know</a>!')},503:function(){e.Dialog.fail(!1,'The request failed because the server is temporarily unavailable. This whouldn\'t take too long, please try again in a few seconds.<br>If the problem still persist after a few minutes, please let us know by clicking the "Send feedback" link in the footer.')}}}),e.copy=function(t){if(!document.queryCommandSupported("copy"))return prompt("Copy with Ctrl+C, close with Enter",t),!0;var n=e.mk("textarea"),o=!1;n.css({opacity:0,width:0,height:0,position:"fixed",left:"-10px",top:"50%",display:"block"}).text(t).appendTo("body").focus(),n.get(0).select();try{o=document.execCommand("copy")}catch(a){}o||e.Dialog.fail("Copy to clipboard","Copying text to clipboard failed!"),setTimeout(function(){n.remove()},1)},e.hex2rgb=function(e){return{r:parseInt(e.substring(1,3),16),g:parseInt(e.substring(3,5),16),b:parseInt(e.substring(5,7),16)}},e.rgb2hex=function(e){return"#"+(16777216+(parseInt(e.r,10)<<16)+(parseInt(e.g,10)<<8)+parseInt(e.b,10)).toString(16).toUpperCase().substring(1)},"function"!=typeof e.expr[":"].valid&&e.extend(e.expr[":"],{valid:function(e){return e.validity.valid}}),e.roundTo=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},e.rangeLimit=function(e,t){var n,o,a=2;switch(arguments.length-a){case 1:n=0,o=arguments[a];break;case 2:n=arguments[a],o=arguments[a+1];break;default:throw new Error("Invalid number of parameters for $.rangeLimit")}return t&&(e>o?e=n:n>e&&(e=o)),Math.min(o,Math.max(n,e))};var o=/^#?([A-Fa-f0-9]{3})$/;window.SHORT_HEX_COLOR_PATTERN=o,e.hexpand=function(e){var t=e.trim().match(o);return t?(t=t[1],"#"+t[0]+t[0]+t[1]+t[1]+t[2]+t[2]):e.replace(/^#?/,"#")},e.fn.toggleHtml=function(t){return this.html(t[e.rangeLimit(t.indexOf(this.html())+1,!0,t.length-1)]),this},e.fn.moveAttr=function(t,n){return this.each(function(){var o=e(this),a=o.attr(t);"undefined"!=typeof a&&o.removeAttr(t).attr(n,a)}),this},e.fn.backgroundImageUrl=function(e){return this.css("background-image",'url("'+e.replace(/"/g,"%22")+'")'),this},e.attributifyRegex=function(e){return e.toString().replace(/(^\/|\/[img]*$)/g,"")},e.fn.patternAttr=function(t){return this.attr("pattern",e.attributifyRegex(t)),this},e.fn.enable=function(){return this.attr("disabled",!1),this},e.fn.disable=function(){return this.attr("disabled",!0),this},e.scrollTo=function(t,n,o){e("html,body").animate({scrollTop:t},n,o)},window.URL=function(t){var n=document.createElement("a"),o={};return n.href=t,e.each(["hash","host","hostname","href","origin","pathname","port","protocol","search"],function(e,t){o[t]=n[t]}),o.pathString=o.pathname.replace(/^([^\/].*)$/,"/$1")+o.search+o.hash,o},window.OpenSidebarByDefault=function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)>=1200};var a=function(){console.log("> DocReadyAlwaysRun()"),$d.triggerHandler("paginate-refresh");var t=window.OAUTH_URL,n=localStorage.getItem("cookie_consent");e("#signin").off("click").on("click",function(){var o=e(this),a=function(n){n&&(localStorage.setItem("cookie_consent",1),o.attr("disabled",!0),e.Dialog.wait("Sign-in process","Redirecting you to DeviantArt"),window.location.href=t)};n?a(!0):e.Dialog.confirm("EU Cookie Policy Notice",'In compliance with the <a href="http://ec.europa.eu/ipg/basics/legal/cookies/index_en.htm">EU Cookie Policy</a> we must inform you that our website will store cookies on your device to remember your logged in status between browser sessions.<br><br>If you would like to avoid these completly harmless pieces of information required to use this website, click "Decline" and continue browsing as a guest.<br><br>This warning will not appear again if you accept our use of persistent cookies.',["Accept","Decline"],a)}),e("#signout").off("click").on("click",function(){var t="Sign out";e.Dialog.confirm(t,"Are you sure you want to sign out?",function(n){n&&(e.Dialog.wait(t,"Signing out"),e.post("/signout",e.mkAjaxHandler(function(){return this.status?void e.Navigation.reload(function(){e.Dialog.close()}):e.Dialog.fail(t,this.message)})))})});try{if(/^https/.test(location.protocol))throw void 0;var o=sessionStorage.getItem("canhttps");if("false"===o)throw void 0;e.ajax({method:"POST",url:"https://"+location.host+"/ping",success:e.mkAjaxHandler(function(){this.status&&$sidebar.append(e.mk("a").attr({"class":"btn green typcn typcn-lock-closed",href:location.href.replace(/^http:/,"https:")}).text("Switch to HTTPS")),sessionStorage.setItem("canhttps",o=this.status.toString())}),error:function(){sessionStorage.setItem("canhttps",o="false")}})}catch(a){}};e.Navigation=function(t){t=this;var n=[];window.DocReady={push:function(e,t){"function"==typeof t&&(e.flush=t),n.push(e)}};var o=function(){console.log("> _docReady()"),a();var e=n.length;if(e)for(var t=0;e>t;t++)n[t].call(window),console.log("> DocReadyHandlers[%d]()",t)};t.docReady=function(){o()},t.flushDocReady=function(){for(var e=0,t=n.length;t>e;e++)"function"==typeof n[e].flush&&(n[e].flush(),console.log("Flushed DocReady handler #%d",e));n=[]};var r=!1,i=function(t,n){return t.length?(console.group("Loading CSS"),void function o(a){if(a>=t.length)return console.groupEnd(),e.callCallback(n);var i=t[a];r=e.ajax({url:i,dataType:"text",success:function(t){t=t.replace(/url\((['"])?\.\.\//g,"url($1/"),$head.append(e.mk("style").attr("href",i).text(t)),console.log("%c#%d (%s)","color:green",a,i)},error:function(){console.log("%c#%d (%s)","color:red",a,i)},complete:function(){o(a+1)}})}(0)):e.callCallback(n)},s=function(t,n){return t.length?(console.group("Loading JS"),void function o(a){if(a>=t.length)return console.groupEnd(),e.callCallback(n);var i=t[a];r=e.ajax({url:i,dataType:"text",success:function(t){$body.append(e.mk("script").attr("data-src",i).text(t.replace(/(\/\/#\s*sourceMappingURL=)(.*)/g,"$1/js/$2"))),console.log("%c#%d (%s)","color:green",a,i)},error:function(){console.log("%c#%d (%s)","color:red",a,i)},complete:function(){o(a+1)}})}(0)):e.callCallback(n)},c=function(n,o,a){if(console.group("[AJAX-Nav] PING %s (block_reload: %s)",n,a),r!==!1){try{r.abort(),console.log("Previous AJAX request aborted")}catch(c){}r=!1}$body.addClass("loading");var l=e.ajax({url:n,data:{"via-js":!0},success:e.mkAjaxHandler(function(){if(r!==l)return console.log("%cAJAX request objects do not match, bail","color:red"),void console.groupEnd();if(!this.status)return $body.removeClass("loading"),r=!1,console.log("%cNavigation error %s","color:red",this.message),console.groupEnd(),e.Dialog.fail("Navigation error",this.message);n=new URL(this.responseURL).pathString+new URL(n).hash,$w.triggerHandler("unload"),window.OpenSidebarByDefault()||$sbToggle.trigger("sb-close");var c=this.css,d=this.js,u=this.content,f=this.sidebar,p=this.footer,g=this.title,h=this.avatar;$main.empty();var m=!1,v=new URL(location.href),w=!a&&v.pathString===n;if($body.children("script[src], script[data-src]").each(function(){var t=e(this),n=t.attr("src")||t.attr("data-src");if(w)return/js\/dialog\./.test(n)||t.remove(),!0;var o=d.indexOf(n);if(-1===o||/js\/colorguide[\.\-]/.test(n)){if(-1!==n.indexOf("global"))return!(m=!0);t.remove()}else d.splice(o,1)}),m!==!1)return console.log("%cFull page reload forced by changes in global.js","font-weight:bold;color:orange"),console.groupEnd(),location.href=n;var y="link[href], style[href]";$head.children(y).each(function(){var t=e(this),n=t.attr("href"),o=c.indexOf(n);-1!==o?c.splice(o,1):t.attr("data-remove","true")}),console.groupEnd(),console.clear(),console.group("[AJAX-Nav] GET %s",n),i(c,function(){$head.children(y.replace(/href/g,"data-remove=true")).remove(),$main.addClass("pls-wait").html(u),$sidebar.html(f),$footer.html(p),window.updateTimes(),window.setCD();var i=$header.find("nav").children();i.children().first().children("img").attr("src",h),i.children(":not(:first-child)").remove(),i.append($sidebar.find("nav").children().children().clone()),window.CommonElements(),a||history[v.pathString===n?"replaceState":"pushState"]({"via-js":!0},"",n),document.title=g,t.lastLoadedPathname=window.location.pathname,t.flushDocReady(),s(d,function(){e.Navigation.docReady(),console.log("%cDocument ready","color:green"),console.groupEnd(),$body.removeClass("loading"),$main.removeClass("pls-wait"),e.callCallback(o),r=!1})})})});r=l};t.visit=function(){c.apply(t,arguments)},t.lastLoadedPathname=window.location.pathname;var l=function(e,t){var n="number"==typeof t&&t>0?function(){setTimeout(e,t)}:e;c(location.pathname+location.search+location.hash,n)};return t.reload=function(){l.apply(t,arguments)},t.firstLoadDone=!1,t}.call({})}}(jQuery),$(function(){"use strict";if(!$.Navigation.firstLoadDone){console.log("[HTTP-Nav] > $(document).ready()"),console.group("[HTTP-Nav] GET "+window.location.pathname+window.location.search+window.location.hash),function(){$sbToggle.off("click sb-open sb-close").on("click",function(e){e.preventDefault(),$sbToggle.trigger("sb-"+($body.hasClass("sidebar-open")?"close":"open"))}).on("sb-open sb-close",function(e){var t="close"===e.type.substring(3);$body[t?"removeClass":"addClass"]("sidebar-open"),localStorage[t?"setItem":"removeItem"]("sidebar-closed","true")}),"true"!==localStorage.getItem("sidebar-closed")&&window.OpenSidebarByDefault()&&$body.addClass("sidebar-open")}(),function(){var e,t,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=function(){var n,o,a="function"==typeof e.parent&&e.parent().length>0,r={};if(a&&(n=new Date,o=new Date(e.attr("datetime")),r=getTimeDiff(n,o)),!a||r.past)return a&&e.parents("li").remove(),clearInterval(t),window.setCD();var i="in ";r.time<one.month?(r.week>0&&(r.day+=7*r.week),r.day>0&&(i+=r.day+" day"+(1!==r.day?"s":"")+" & "),r.hour>0&&(i+=r.hour+":"),i+=$.pad(r.minute)+":"+$.pad(r.second)):i=createTimeStr(n,o),e.text(i)};window.setCD=function(){var a=$("#upcoming");if(a.length){var r=a.children("ul").children();if(!r.length)return a.remove();e=r.first().find("time").addClass("nodt"),t=setInterval(o,1e3),o(),a.find("li").each(function(){var e=$(this),t=e.children(".calendar"),o=new Date(e.find(".countdown").data("airs")||e.find("time").attr("datetime"));t.children(".top").text(n[o.getMonth()]),t.children(".bottom").text(o.getDate())}),window.updateTimes()}},window.setCD(),$w.on("unload",function(){e={parent:!1}})}(),$(document).off("click",".send-feedback").on("click",".send-feedback",function(e){e.preventDefault(),e.stopPropagation(),$("#ctxmenu").hide(),$.Dialog.info("How to send feedback",$.mk("div").append("<p>If you're having an issue with the site and would like to let the developer know, here's how you can contact him:</p>",$.mk("ul").append("<li>Send a note to <a href='http://djdavid98.deviantart.com/'>DJDavid98</a> on DeviantArt</li>","<li>Send an e-mail to <a href='mailto:seinopsys@gmail.com'>seinopsys@gmail.com</a></li>","<li>Add <a href='skype:guzsik.david?add'>guzsik.david</a> on Skype</li>"),$.mk("p").attr("class","notice info").append("If you have a GitHub account, please ",$.mk("a").attr("href",$footer.find("a.issues").attr("href")).text("create an issue")," on the project's GitHub page instead of using the methods above.")).children(),"feedback-form")}),function(){var e;$(document).off("click",".action--color-avg").on("click",".action--color-avg",function(t){if(t.preventDefault(),t.stopPropagation(),"undefined"==typeof e){var n=$.mk("div").attr("class","input-group-3").append("<input type='text' pattern='^([1-9]?\\d|1\\d{2}|2[0-4]\\d|25[0-5])$' maxlength='3' placeholder='Red' class='align-center'>","<input type='text' pattern='^([1-9]?\\d|1\\d{2}|2[0-4]\\d|25[0-5])$' maxlength='3' placeholder='Green' class='align-center'>","<input type='text' pattern='^([1-9]?\\d|1\\d{2}|2[0-4]\\d|25[0-5])$' maxlength='3' placeholder='Blue' class='align-center'>"),o=$.mk("div").attr("class","inputs"),a="color-avg-save",r=function(){var t=[];e.find(".inputs input").each(function(){t.push(this.value.trim())}),localStorage.setItem(a,JSON.stringify(t))},i=function(){var e=localStorage.getItem(a);if("string"==typeof e){e=JSON.parse(e),o.empty();for(var t,r=0,i=e.length;i>r;r++){var s=r%3;0===s&&(t=n.clone(!0,!0).appendTo(o)),t.children().eq(s).val(e[r])}t.children().first().triggerHandler("change")}},s=$.mk("span").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"block"}).html("&nbsp;"),c=$.mk("td").attr("rowspan","2").css({width:"25%",position:"relative"}).append(s),l=$.mk("td").attr("class","color-red"),d=$.mk("td").attr("class","color-green"),u=$.mk("td").attr("class","color-darkblue"),f=$.mk("td").attr("colspan","3"),p=function(){setTimeout(function(){var t=0,n=0,o=0,a=0;e.find(".input-group-3").each(function(){var e=$(this).children(),r=e.eq(0).val(),i=e.eq(1).val(),s=e.eq(2).val();if(r.length&&i.length&&s.length){var c={r:parseInt(r,10),g:parseInt(i,10),b:parseInt(s,10)},l=!1;$.each(c,function(e,t){return isNaN(t)||0>t||t>255?!(l=!0):void 0}),l||(t++,n+=parseInt(r,10),o+=parseInt(i,10),a+=parseInt(s,10))}}),t&&(n=Math.round(n/t),o=Math.round(o/t),a=Math.round(a/t)),l.text(n),d.text(o),u.text(a);var r=$.rgb2hex({r:n,g:o,b:a});s.css("background-color",r),f.text(r)},1)};n.on("paste","input",function(){var e=$(this);setTimeout(function(){if(e.is(":valid")){e.val(e.value().trim()).triggerHandler("change");var t=e.index()<2?e.next():e.parent().next().children().first();t.length&&t.focus()}},1)}).on("change keyup blur","input",function(){console.log(t.type),p()}),p();for(var g=0;10>g;g++)o.append(n.clone(!0,!0));e=$.mk("form").attr("id","color-avg-form").append(o,$.mk("button").attr("class","green typcn typcn-plus").text("Add more inputs").on("click",function(e){e.preventDefault(),o.append(n.clone(!0,!0))}),$.mk("table").attr({"class":"align-center",style:'display:table;width:100%;font-family:"Source Code Pro","Consolas",monospace;font-size:1.3em;border-collapse:collapse'}).append($.mk("tr").append(c,l,d,u),$.mk("tr").append(f)).find("td").css("border","1px solid black").end())}$.Dialog.request("Colour Average Calculator",e,"color-avg-form","Save progress",function(e){i(),e.on("submit",function(e){e.preventDefault(),r(),$.Dialog.close()})})})}();{window.REWRITE_REGEX}$d.on("click","a[href]",function(e){if(e.which>2)return!0;var t=this;return t.host!==location.host?!0:t.pathname===location.pathname&&t.search===location.search?!0:(0!==$(this).parents("#dialogContent").length&&$.Dialog.close(),e.preventDefault(),void $.Navigation.visit(this.href))}),$w.on("popstate",function(e){var t=e.originalEvent.state,n=function(e,t){$.Navigation.visit(e,t,!0)};return null===t||t["via-js"]||t.paginate!==!0?void n(location.href):$w.trigger("nav-popstate",[t,n])}),$.Navigation.docReady(),console.log("%cDocument ready","color:green"),console.groupEnd(),$.Navigation.firstLoadDone=!0}}),$w.on("load",function(){"use strict";$body.removeClass("loading")});
//# sourceMappingURL=global.min.js.map
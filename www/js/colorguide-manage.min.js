$(function(){var t=window.Color,i=window.color;$(".tags").children().ctxmenu([{text:"Add this tag to search",icon:"zoom",click:function(){$.Dialog.info("Add tag to search triggered","yay")}}],function(t){return"Tag: "+t.text().trim()}).each(function(){$.ctxmenu.addItem($(this),{text:"Edit tag",icon:"pencil",click:function(){var t=$(this);$.Dialog.info("Edit triggered","Tag: "+t.text().replace(",",""))}})}),$("ul.colors").children("li").ctxmenu([{text:"Edit "+i+" group",icon:"pencil",click:function(){$.Dialog.info("Edit "+i+" group triggered","yay")}},{text:"Add new group",icon:"folder-add",click:function(){$.Dialog.info("Add new group triggered","yay")}},{text:"Add new "+i,icon:"plus",click:function(){$.Dialog.info("Add new color triggered","yay")}}],function(i){return t+" group "+i.children().first().text().trim().replace(":","")}).children("span").off("click").on("click",function(t){if(t.preventDefault(),!document.queryCommandSupported("copy"))return prompt("Copy with Ctrl+C, close with Enter"),!0;var i=$(document.createElement("textarea")),e=!1;i.css({opacity:0,width:0,height:0,position:"absolute",left:"-10px",top:"-10px",display:"block"}).text(this.innerHTML.trim()).appendTo("body").focus(),i.get(0).select();try{e=document.execCommand("copy")}catch(t){}e||$.Dialog.fail("Copy to clipboard","Copying text to clipboard failed!"),setTimeout(function(){i.remove()},1)}).ctxmenu([{text:"Copy "+i,icon:"clipboard",default:!0,click:function(){console.log($(this)),$(this).triggerHandler("click")}},{text:"Edit "+i,icon:"pencil",click:function(){$.Dialog.info("Edit "+i+" triggered","yay")}},!0,{text:"Edit "+i+" group",icon:"pencil",click:function(){$.ctxmenu.triggerItem($(this).parent(),1)}},{text:"Add new group",icon:"folder-add",click:function(){$.ctxmenu.triggerItem($(this).parent(),2)}},{text:"Add new "+i,icon:"plus",click:function(){$.ctxmenu.triggerItem($(this).parent(),3)}}],function(t){return t.siblings().first().text().trim().replace(":","")+" "+t.attr("title")})});
$(function(){var t=window.Color,i=window.color;$(".tags").children().ctxmenu([{text:"Add this tag to search",icon:"zoom",click:function(){$.Dialog.info("Add tag to search triggered","yay")}}],function(t){return"Tag: "+t.text().trim()}).each(function(){$.ctxmenu.addItem($(this),{text:"Edit tag",icon:"pencil",click:function(){var t=$(this);$.Dialog.info("Edit triggered","Tag: "+t.text().replace(",",""))}})}),$("ul.colors").children("li").each(function(){$(this).ctxmenu([{text:"Edit "+i+" group",icon:"pencil",click:function(){$.Dialog.info("Edit "+i+" group triggered","yay")}},{text:"Add new group",icon:"folder-add",click:function(){$.Dialog.info("Add new group triggered","yay")}},{text:"Add new "+i,icon:"plus",click:function(){$.Dialog.info("Add new color triggered","yay")}}],function(i){return t+" group "+i.children().first().text().trim().replace(":","")})}).children('span[title][title!=""]').each(function(){var t=$(this);t.on("click",function(i){if(i.preventDefault(),!document.queryCommandSupported("copy"))return prompt("Copy with Ctrl+C, close with Enter"),!0;var e=$(document.createElement("textarea")),n=!1;e.css({opacity:0,visibility:"hidden",width:0,height:0,position:"absolute",left:"-10px",top:"-10px",display:"block"}).text(t.text().trim()).appendTo("body"),e.get(0).focus(),e.get(0).select();try{n=document.execCommand("copy")}catch(t){}n||$.Dialog.fail("Copy to clipboard","Copying text to clipboard failed!"),e.remove()})}).ctxmenu([{text:"Copy "+i,icon:"pencil",click:function(){$.Dialog.info("Edit "+i+" triggered","yay")}},{text:"Edit "+i,icon:"pencil",click:function(){$.Dialog.info("Edit "+i+" triggered","yay")}},!0,{text:"Edit "+i+" group",icon:"pencil",click:function(){$.ctxmenu.triggerItem($(this).parent(),1)}},{text:"Add new group",icon:"folder-add",click:function(){$.ctxmenu.triggerItem($(this).parent(),2)}},{text:"Add new "+i,icon:"plus",click:function(){$.ctxmenu.triggerItem($(this).parent(),3)}}],function(t){return t.siblings().first().text().trim().replace(":","")+" "+t.attr("title")})});
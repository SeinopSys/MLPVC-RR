var $ColorAvgForm;!function(t){"use strict";if("undefined"==typeof $ColorAvgForm){var e=t.mk("div").attr("class","input-group-3").append("<input type='text' pattern='^([1-9]?\\d|1\\d{2}|2[0-4]\\d|25[0-5])$' maxlength='3' placeholder='Red' class='align-center'>","<input type='text' pattern='^([1-9]?\\d|1\\d{2}|2[0-4]\\d|25[0-5])$' maxlength='3' placeholder='Green' class='align-center'>","<input type='text' pattern='^([1-9]?\\d|1\\d{2}|2[0-4]\\d|25[0-5])$' maxlength='3' placeholder='Blue' class='align-center'>"),n=t.mk("div").attr("class","inputs"),r="color-avg-save",a=function(){var t=[];$ColorAvgForm.find(".inputs input").each(function(){t.push(this.value.trim())}),localStorage.setItem(r,JSON.stringify(t))},o=function(){var t=localStorage.getItem(r);if("string"==typeof t){t=JSON.parse(t),n.empty();for(var a,o=0,l=t.length;l>o;o++){var i=o%3;0===i&&(a=e.clone(!0,!0).appendTo(n)),a.children().eq(i).val(t[o])}a.children().first().triggerHandler("change")}},l=t.mk("span").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"block"}).html("&nbsp;"),i=t.mk("td").attr("rowspan","2").css({width:"25%",position:"relative"}).append(l),s=t.mk("td").attr("class","color-red"),p=t.mk("td").attr("class","color-green"),c=t.mk("td").attr("class","color-darkblue"),d=t.mk("td").attr("colspan","3"),u=function(){setTimeout(function(){var e=0,n=0,r=0,a=0;$ColorAvgForm.find(".input-group-3").each(function(){var o=t(this).children(),l=o.eq(0).val(),i=o.eq(1).val(),s=o.eq(2).val();if(l.length&&i.length&&s.length){var p={r:parseInt(l,10),g:parseInt(i,10),b:parseInt(s,10)},c=!1;t.each(p,function(t,e){return isNaN(e)||0>e||e>255?!(c=!0):void 0}),c||(e++,n+=parseInt(l,10),r+=parseInt(i,10),a+=parseInt(s,10))}}),e&&(n=Math.round(n/e),r=Math.round(r/e),a=Math.round(a/e)),s.text(n),p.text(r),c.text(a);var o=t.rgb2hex({r:n,g:r,b:a});l.css("background-color",o),d.text(o)},1)};e.on("paste","input",function(){var e=t(this);setTimeout(function(){if(e.is(":valid")){e.val(e.value().trim()).triggerHandler("change");var t=e.index()<2?e.next():e.parent().next().children().first();t.length&&t.focus()}},1)}).on("change keyup blur","input",function(){u()}),u();for(var g=0;10>g;g++)n.append(e.clone(!0,!0));$ColorAvgForm=t.mk("form").attr("id","color-avg-form").append(n,t.mk("button").attr("class","green typcn typcn-plus").text("Add more inputs").on("click",function(t){t.preventDefault(),n.append(e.clone(!0,!0))}),t.mk("table").attr({"class":"align-center",style:'display:table;width:100%;font-family:"Source Code Pro","Consolas",monospace;font-size:1.3em;border-collapse:collapse'}).append(t.mk("tr").append(i,s,p,c),t.mk("tr").append(d)).find("td").css("border","1px solid black").end()).on("submit",function(e){e.preventDefault(),a(),t.Dialog.close()}).on("read-colors",o)}}(jQuery);
//# sourceMappingURL=global-color_avg_form.min.js.map
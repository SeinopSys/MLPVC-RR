'use strict';(function(){'use strict';var a=/Page \d+/g,b=location.pathname.replace(/\/\d+$/,'')+'/',c=$('.pagination'),d=parseInt(c.first().children('li').children('strong').text(),10),e=parseInt(c.first().children(':not(.spec)').last().text(),10),f='Navigation',g=$.mk('form').attr('id','goto-page').html('<label>\n\t\t\t\t<span>Enter page number</span>\n\t\t\t\t<input type="number" min="1" max="'+e+'" step="1">\n\t\t\t</label>').on('submit',function(a){a.preventDefault();var c=parseInt($(this).find('input:visible').val(),10);isNaN(c)&&(c=1),$.toPage(b+Math.max(1,c))});$d.off('paginate-refresh').on('paginate-refresh',function(){b=location.pathname.replace(/\/\d+$/,'')+'/',c=$('.pagination'),d=parseInt(c.first().children('li').children('strong').text(),10),f='Navigation',c.off('click').on('click','a',function(a){return a.preventDefault(),a.stopPropagation(),$('#ctxmenu').hide(),'undefined'==typeof $(this).attr('href')?$.Dialog.request('Navigation',g.clone(!0,!0),'Go to page',function(a){a.find('input:visible').val(d).get(0).select()}):void $.toPage(this.pathname)}),$w.off('nav-popstate').on('nav-popstate',function(a,b,c){var d=b,e=[!1,!0,void 0,!0];'undefined'!=typeof b.baseurl&&$.Navigation._lastLoadedPathname.replace(/\/\d+($|\?)/,'$1')!==b.baseurl?c(location.pathname+location.search+location.hash,function(){$.toPage.apply(d,e)}):$.toPage.apply(d,e)}),$.toPage=function(g,h,i,j,k){g||(g=location.pathname);var l=parseInt(g.replace(/^.*\/(\d+)(?:\?.*)?$/,'$1'),10),m=this.state||{};if(isNaN(l))return $.Dialog.fail(f,'Could not get page number to go to');if(!i&&(d===l||d===m.page))return!h&&$.Dialog.info(f,'You are already on page '+d);var n={js:!0},o=[],p=this.query,q='string'==typeof p;q?o=o.concat(p.split('&')):1<location.search.length&&(o=o.concat(location.search.substring(1).split('&'))),o.length&&($.each(o,function(a,b){b=b.replace(/\+/g,' ').split('=');0===b[1].length||(n[decodeURIComponent(b[0])]=decodeURIComponent(b[1]))}),o=void 0),this.gofast?($.Dialog.wait(f,'Loading appearance page'),n.GOFAST=!0):$.Dialog.wait(f,'Loading page '+l),g+=location.hash,$.get(g,n,$.mkAjaxHandler(function(){if(!this.status)return $.Dialog.fail(f,this.message);if(n.GOFAST&&this.goto)return $.Navigation.visit(this.goto,function(){$.Dialog.close()});l=parseInt(this.page,10);var g=$navbar.find('li.active').children().last();a.test(g.text())&&g.html(function(){this.innerHTML.replace(a,'Page '+l)}),'function'==typeof k&&(document.title=k(l)),document.title=document.title.replace(a,'Page '+l),$navbar.find('li.active').children().last().html(function(){return this.innerHTML.replace(a,'Page '+l)});var h=this.request_uri||b+l+(1<location.search.length?location.search:''),i=[{paginate:!0,page:l,baseurl:this.request_uri.replace(/\/\d+($|\?)/,'$1')},'',h];q&&(i[0].query=p),'function'==typeof window.ga&&window.ga('send',{hitType:'pageview',page:h,title:document.title}),(!0===j||m.page!==l&&!isNaN(l)||q)&&(history.replaceState.apply(history,i),$.WS.navigate()),c.html(this.pagination),e=parseInt(c.first().children(':not(.spec)').last().text(),10);var o=jQuery.Event('page-switch');$(this.update).html(this.output).trigger(o),Time.Update(),d=l,o.isDefaultPrevented()||$.Dialog.close()}))}})})();
//# sourceMappingURL=/js/min/paginate.js.map

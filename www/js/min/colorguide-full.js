"use strict";DocReady.push(function(){var t=$("#sort-by"),e=$("#full-list"),a=$("#guide-reorder");t.on("change",function(){var r=t.data("baseurl"),i=t.val(),l=(r+"?ajax&"+i).replace(/&$/,""),s=(r+"?"+i).replace(/\?$/,"");$.Dialog.wait("Changing sort order"),$.get(l,$.mkAjaxHandler(function(){return this.status?(e.html(this.html),a.attr("disabled",!i.length),history.replaceState(history.state,"",s),void $.Dialog.close()):$.Dialog.fail(!1,this.message)}))}),"function"==typeof window.Sortable&&a.on("click",function(){a.hasClass("typcn-tick")?!function(){$.Dialog.wait("Re-ordering appearances");var t=[];e.children().children("ul").children().each(function(){t.push($(this).children().attr("data-href").split("/").pop().replace(/^(\d+)\D.*$/,"$1"))}),$.post("/cg/full?reorder",{list:t.join(",")},$.mkAjaxHandler(function(){return this.status?(e.removeClass("sorting").html(this.html),a.removeClass("typcn-tick green").addClass("typcn-arrow-unsorted darkblue").html("Re-order"),void $.Dialog.close()):$.Dialog.fail(!1,this.message)}))}():(a.removeClass("typcn-arrow-unsorted darkblue").addClass("typcn-tick green").html("Save"),e.addClass("sorting").children().each(function(){var t=$(this).children("ul");t.children().children().moveAttr("href","data-href"),Sortable.create(t.get(0),{ghostClass:"moving",scroll:!0,animation:150})}))})});
//# sourceMappingURL=/js/min/colorguide-full.js.map

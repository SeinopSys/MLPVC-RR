"use strict";DocReady.push(function(){var e=window.SpriteColorMap,t=window.AppearanceColors,n=window.HEX_COLOR_REGEX,i=$("#form-cont").empty(),a=$.mk("select").append('<option value="" style="display:none">(foreign color)</option>'),o=$("#svg-cont").children();$.each(t,function(e,t){$.yiq(t.hex)>=128?"black":"white";a.append('<option value="'+t.hex+'">'+t.label+"</option>")}),a.append('<optgroup label="Universal colors">\n\t\t\t<option value="#FFFFFF">Eye | Shines</option>\n\t\t\t<option value="#000000">Eye | Pupil</option>\n\t\t</optgroup>'),$.each(e,function(e,t){var l=a.clone();l.find('option[value="'+t+'"]').first().attr("selected",!0),l.on("change",function(){var e=$(this),t=e.find("option:selected").val();t.length&&e.siblings("input").val(t).triggerHandler("change",[!0])}),i.append($.mk("div").attr("data-ph",e).append('<span class="color-preview" style="background-color:'+t+'"></span>',l,$.mk("input").attr({type:"text",required:!0,value:t,spellcheck:"false",autocomplete:"off",title:"Hexadecimal color"}).patternAttr(n).on("keyup change input",function(t,i,a){var l=$(this),r=l.siblings().first(),s=l.siblings("select"),p=("string"==typeof a?a:this.value).trim(),c=n.test(p);if(c){r.removeClass("invalid").css("background-color",p.replace(n,"#$1")),i!==!0&&(s.find('option[value="'+p+'"]').length?s.val(p):s.val(""));o.find("rect").filter(function(){var t=this.getAttribute("data:ph");return"string"==typeof t&&t===e}).attr("fill",p)}else r.addClass("invalid"),s.val("")}).on("paste blur keyup",function(e,t){var i=this,a=function(){var a=$.hexpand(i.value);if(n.test(a)){a=a.replace(n,"#$1").toUpperCase();var o=$(i),l=$.hex2rgb(a);switch($.each(l,function(e,t){t<=3?l[e]=0:t>=252&&(l[e]=255)}),a=$.rgb2hex(l),e.type){case"paste":case"blur":o.val(a)}o.trigger("change",[t,a]).patternAttr(SHORT_HEX_COLOR_PATTERN.test(i.value)?SHORT_HEX_COLOR_PATTERN:n)}};"paste"===e.type?setTimeout(a,10):a()})).on("mouseenter",function(){var t=o.find("rect").filter(function(){var t=this.getAttribute("data:ph");return"string"==typeof t&&t===e});t.addClass("highlight")}).on("mouseleave",function(){o.find(".highlight").removeClass("highlight")}))}),i.children("div").sort(function(e,t){var n=$(e).children("select").children("option:selected").text()||"",i=$(t).children("select").children("option:selected").text()||"";return n.localeCompare(i)}).prependTo(i),i.append('<button class="green typcn typcn-tick">Save</button>').on("submit",function(e){return e.preventDefault(),$.Dialog.info("Save sprite colors",'This feature is not yet fully implemented, saving is not yet possible. Sorry.<div class="align-center"><span class="sideways-smiley-face">:\\</div>')})});
//# sourceMappingURL=/js/min/colorguide-spriteedit.js.map

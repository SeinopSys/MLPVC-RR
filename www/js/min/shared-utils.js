'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}(function(b){'use strict';var a=Math.max,c=Math.min,d=Math.round,e=String.prototype;if('undefined'==typeof b.Navigation||!0!==b.Navigation.firstLoadDone){'function'!=typeof window.console.log&&(window.console.log=function(){}),'function'!=typeof window.console.group&&(window.console.group=function(){}),'function'!=typeof window.console.groupEnd&&(window.console.groupEnd=function(){}),'function'!=typeof window.console.clear&&(window.console.clear=function(){}),window.mk=function(){return document.createElement.apply(document,arguments)},b.mk=function(a,c){var d=b(document.createElement.call(document,a));return'string'==typeof c&&d.attr('id',c),d};var f=function(){function a(){_classCallCheck(this,a),this.emulatedStorage={}}return _createClass(a,[{key:'getItem',value:function getItem(a){return'undefined'==typeof this.emulatedStorage[a]?null:this.emulatedStorage[a]}},{key:'setItem',value:function setItem(a,b){this.emulatedStorage[a]='string'==typeof b?b:''+b}},{key:'removeItem',value:function removeItem(a){delete this.emulatedStorage[a]}}]),a}(),g=function(){function a(b){_classCallCheck(this,a);try{this.store=window[b+'Storage']}catch(a){console.error(b+'Storage'+' is unavailable, falling back to EmulatedStorage'),this.store=new f}}return _createClass(a,[{key:'get',value:function get(a){var b=null;try{b=this.store.getItem(a)}catch(a){}return b}},{key:'set',value:function set(a,b){try{this.store.setItem(a,b)}catch(a){}}},{key:'remove',value:function remove(a){try{this.store.removeItem(a)}catch(a){}}}]),a}();b.LocalStorage=new g('local'),b.SessionStorage=new g('session'),b.toAbsoluteURL=function(b){var c=mk('a');return c.href=b,c.href},window.$w=b(window),window.$d=b(document),window.CommonElements=function(){window.$header=b('header'),window.$sbToggle=b('.sidebar-toggle'),window.$main=b('#main'),window.$content=b('#content'),window.$sidebar=b('#sidebar'),window.$footer=b('footer'),window.$body=b('body'),window.$head=b('head'),window.$navbar=$header.find('nav')},window.CommonElements(),window.Key={Tab:9,Enter:13,Alt:18,Space:32,LeftArrow:37,RightArrow:39,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,Comma:188},b.isKey=function(a,b){return b.keyCode===a},function(a){var b={order:'Do MMMM YYYY, H:mm:ss'};b.orderwd='dddd, '+b.order;var c=function(a){function b(a,c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return d.name='DateFormatError',d.element=c,d}return _inherits(b,a),b}(Error),d=function(){function d(){_classCallCheck(this,d)}return _createClass(d,null,[{key:'Update',value:function Update(){a('time[datetime]:not(.nodt)').addClass('dynt').each(function(){var e=a(this),f=e.attr('datetime');if('string'!=typeof f)throw new TypeError('Invalid date data type: "'+('undefined'==typeof f?'undefined':_typeof(f))+'"');var g=moment(f);if(!g.isValid())throw new c('Invalid date format: "'+f+'"',this);var h=moment(),i=!e.attr('data-noweekday'),j=g.from(h),k=e.parent().children('.dynt-el'),l=e.data('dyntime-beforeupdate');if('function'==typeof l){var m=l(d.Difference(h.toDate(),g.toDate()));if(!1===m)return}0<k.length||e.hasClass('no-dynt-el')?(e.html(g.format(i?b.orderwd:b.order)),k.html(j)):e.attr('title',g.format(b.order)).html(j)})}},{key:'Difference',value:function Difference(a,b){var c=Math.floor,e=(a.getTime()-b.getTime())/1e3,f={past:0<e,time:Math.abs(e),target:b},d=f.time;return f.day=c(d/this.InSeconds.day),d-=f.day*this.InSeconds.day,f.hour=c(d/this.InSeconds.hour),d-=f.hour*this.InSeconds.hour,f.minute=c(d/this.InSeconds.minute),d-=f.minute*this.InSeconds.minute,f.second=c(d),7<=f.day&&(f.week=c(f.day/7),f.day-=7*f.week),4<=f.week&&(f.month=c(f.week/4),f.week-=4*f.month),12<=f.month&&(f.year=c(f.month/12),f.month-=12*f.year),f}}]),d}();d.InSeconds={year:31557600,month:2592000,week:604800,day:86400,hour:3600,minute:60},window.Time=d,d.Update(),setInterval(d.Update,1e4)}(jQuery),b.capitalize=function(a,b){return b?a.replace(/((?:^|\s)[a-z])/g,function(a){return a.toUpperCase()}):1===a.length?a.toUpperCase():a[0].toUpperCase()+a.substring(1)},'function'!=typeof Array.prototype.includes&&(Array.prototype.includes=function(a){return-1!==this.indexOf(a)}),'function'!=typeof e.includes&&(e.includes=function(a){return-1!==this.indexOf(a)}),b.pad=function(a,c,d,e){if('string'!=typeof a&&(a=''+a),'string'!=typeof c&&(c='0'),d='number'!=typeof d&&!isFinite(d)&&isNaN(d)?2:parseInt(d,10),'boolean'!=typeof e&&(e=!0),d<=a.length)return a;var f=Array(d-a.length+1).join(c);return a=e===b.pad.left?f+a:a+f,a},b.pad.right=!(b.pad.left=!0),b.scaleResize=function(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0,g=void 0,h={scale:e.scale,width:e.width,height:e.height};if(!isNaN(h.scale))(f||1>=h.scale)&&(h.height=d(b*h.scale),h.width=d(a*h.scale));else if(!isNaN(h.width))f||(h.width=c(h.width,a)),g=h.width/a,!f&&1<g&&(g=1),h.height=d(b*g),h.scale=g;else if(!isNaN(h.height))f||(h.height=c(h.height,b)),g=h.height/b,!f&&1<g&&(g=1),h.width=d(a*g),h.scale=g;else throw new Error('[scalaresize] Invalid arguments');return h},b.clearSelection=function(){if(window.getSelection){var a=window.getSelection();a.empty?a.empty():a.removeAllRanges&&a.removeAllRanges()}else document.selection&&document.selection.empty()},b.toArray=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return[].slice.call(a,b)},$w.on('ajaxerror',function(){var a='';if(1<arguments.length){var c=b.toArray(arguments,1);if('abort'===c[1])return;a=' Details:<pre><code>'+c.slice(1).join('\n').replace(/</g,'&lt;')+'</code></pre>Response body:';var d=/^(?:<br \/>\n)?(<pre class='xdebug-var-dump'|<font size='1')/;d.test(c[0].responseText)?a+='<div class="reset">'+c[0].responseText.replace(d,'$1')+'</div>':'string'==typeof c[0].responseText&&(a+='<pre><code>'+c[0].responseText.replace(/</g,'&lt;')+'</code></pre>')}b.Dialog.fail(!1,'There was an error while processing your request.'+a)}),b.mkAjaxHandler=function(a){return function(b){return'object'===('undefined'==typeof b?'undefined':_typeof(b))?void('function'==typeof a&&a.call(b)):(console.log(b),void $w.triggerHandler('ajaxerror'))}},b.callCallback=function(a,c,d){return'object'===('undefined'==typeof c?'undefined':_typeof(c))&&b.isArray(c)||(d=c,c=[]),'function'==typeof a?a.apply(window,c):d},b.fn.mkData=function(a){var c=this.find(':input:valid').serializeArray(),d={};return b.each(c,function(a,b){/\[]$/.test(b.name)?('undefined'==typeof d[b.name]&&(d[b.name]=[]),d[b.name].push(b.value)):d[b.name]=b.value}),'object'===('undefined'==typeof a?'undefined':_typeof(a))&&b.extend(d,a),d},b.getCSRFToken=function(){var a=document.cookie.match(/CSRF_TOKEN=([a-z\d]+)/i);if(a&&a.length)return a[1];throw new Error('Missing CSRF_TOKEN')},b.ajaxPrefilter(function(a,c){if('POST'===(c.type||a.type).toUpperCase()){var d=b.getCSRFToken();if('undefined'==typeof a.data&&(a.data=''),'string'==typeof a.data){var e=0<a.data.length?a.data.split('&'):[];e.push('CSRF_TOKEN='+d),a.data=e.join('&')}else a.data.CSRF_TOKEN=d}});var h,i={401:function _(){b.Dialog.fail(void 0,'Cross-site Request Forgery attack detected. Please <a class=\'send-feedback\'>let us know</a> about this issue so we can look into it.')},404:function _(){b.Dialog.fail(!1,'Error 404: The requested endpoint ('+h.replace(/</g,'&lt;').replace(/\//g,'/<wbr>')+') could not be found')},500:function _(){b.Dialog.fail(!1,'A request failed due to an internal server error. If this persists, please <a class="send-feedback">let us know</a>!')},503:function _(){b.Dialog.fail(!1,'A request failed because the server is temporarily unavailable. This shouldn\u2019t take too long, please try again in a few seconds.<br>If the problem still persist after a few minutes, please let us know by clicking the "Send feedback" link in the footer.')},504:function _(){b.Dialog.fail(!1,'A request failed because the server took too long to respond. A refresh should fix this issue, but if it doesn\'t, please <a class="send-feedback">let us know</a>.')}};b.ajaxSetup({dataType:'json',error:function error(a){'function'!=typeof i[a.status]&&$w.triggerHandler('ajaxerror',b.toArray(arguments)),$body.removeClass('loading')},beforeSend:function beforeSend(a,b){h=b.url},statusCode:i});var j;b.copy=function(a,c){if(!document.queryCommandSupported('copy'))return prompt('Copy with Ctrl+C, close with Enter',a),!0;var d=b.mk('textarea'),e=!1;d.css({opacity:0,width:0,height:0,position:'fixed',left:'-10px',top:'50%',display:'block'}).text(a).appendTo('body').focus(),d.get(0).select();try{e=document.execCommand('copy')}catch(a){}setTimeout(function(){if(d.remove(),'undefined'==typeof j||c){if('undefined'==typeof j&&(j=b.mk('span').attr({id:'copy-notify','class':e?void 0:'fail'}).html('<span class="typcn typcn-clipboard"></span> <span class="typcn typcn-'+(e?'tick':'cancel')+'"></span>').appendTo($body)),c){var a=j.outerWidth(),f=j.outerHeight(),g=c.clientY-f/2;return j.stop().css({top:g,left:c.clientX-a/2,bottom:'initial',right:'initial',opacity:1}).animate({top:g-20,opacity:0},1e3,function(){b(this).remove(),j=void 0})}j.fadeTo('fast',1)}else j.stop().css('opacity',1);j.delay(e?300:1e3).fadeTo('fast',0,function(){b(this).remove(),j=void 0})},1)},b.hex2rgb=function(a){return{r:parseInt(a.substring(1,3),16),g:parseInt(a.substring(3,5),16),b:parseInt(a.substring(5,7),16)}},b.rgb2hex=function(a){return'#'+(16777216+(parseInt(a.r,10)<<16)+(parseInt(a.g,10)<<8)+parseInt(a.b,10)).toString(16).toUpperCase().substring(1)},'function'!=typeof b.expr[':'].valid&&(b.expr[':'].valid=function(a){return'object'===_typeof(a.validity)?a.validity.valid:function(a){var c=b(a),d=c.attr('pattern'),e=c.hasAttr('required'),f=c.val();return e&&('string'!=typeof f||!f.length)?!1:!d||new RegExp(d).test(f)}(a)}),b.roundTo=function(a,b){var c=Math.pow(10,b);return d(a*c)/c},b.rangeLimit=function(b,d){var e,f,g=2;switch(arguments.length-g){case 1:e=0,f=arguments[g];break;case 2:e=arguments[g],f=arguments[g+1];break;default:throw new Error('Invalid number of parameters for $.rangeLimit');}return d&&(b>f?b=e:b<e&&(b=f)),c(f,a(e,b))},b.fn.select=function(){var a=document.createRange();a.selectNodeContents(this.get(0));var b=window.getSelection();b.removeAllRanges(),b.addRange(a)};var k=/^#?([A-Fa-f0-9]{3})$/;window.SHORT_HEX_COLOR_PATTERN=k,b.hexpand=function(a){var b=a.trim().match(k);return b?(b=b[1],'#'+b[0]+b[0]+b[1]+b[1]+b[2]+b[2]):a.replace(/^#?/,'#')},b.yiq=function(a){if('string'!=typeof a)throw new Error('Invalid hex value ('+a+')');var c=b.hex2rgb(a);return(299*c.r+587*c.g+114*c.b)/1e3},b.momentToYMD=function(a){return a.format('YYYY-MM-DD')},b.momentToHM=function(a){return a.format('HH:mm')},b.mkMoment=function(a,b,c){return moment(a+'T'+b+(c?'Z':''))},b.escapeRegex=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')},b.fn.toggleHtml=function(a){return this.html(a[b.rangeLimit(a.indexOf(this.html())+1,!0,a.length-1)])},b.fn.moveAttr=function(a,c){return this.each(function(){var d=b(this),e=d.attr(a);'undefined'!=typeof e&&d.removeAttr(a).attr(c,e)})},b.fn.backgroundImageUrl=function(a){return this.css('background-image','url("'+a.replace(/"/g,'%22')+'")')},b.attributifyRegex=function(a){return'string'==typeof a?a:a.toString().replace(/(^\/|\/[img]*$)/g,'')},b.fn.patternAttr=function(a){if('undefined'==typeof a)throw new Error('$.fn.patternAttr: regex is undefined');return this.attr('pattern',b.attributifyRegex(a))},b.fn.enable=function(){return this.attr('disabled',!1)},b.fn.disable=function(){return this.attr('disabled',!0)},b.fn.hasAttr=function(a){return this.get(0).hasAttribute(a)},b.fn.isOverflowing=function(){var a=this.get(0),b=a.style.overflow;b&&'visible'!==b||(a.style.overflow='hidden');var c=a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight;return a.style.overflow=b,c},b.scrollTo=function(a,c,d){var e=function(){return!1};b('html,body').on('mousewheel scroll',e).animate({scrollTop:a},c,d).off('mousewheel scroll',e),$w.on('beforeunload',function(){b('html,body').stop().off('mousewheel scroll',e)})},b.getAceEditor=function(a,c,d){var e=function(){b.Dialog.clearNotice(),d('ace/mode/'+c)};'undefined'==typeof window.ace?(b.Dialog.wait(a,'Loading Ace Editor'),b.getScript('/js/min/ace/ace.js',function(){window.ace.config.set('basePath','/js/min/ace'),e()}).fail(function fail(){return b.Dialog.fail(!1,'Failed to load Ace Editor')})):e()},b.aceInit=function(a){a.$blockScrolling=Infinity,a.setShowPrintMargin(!1);var b=a.getSession();return b.setUseSoftTabs(!1),b.setOption('indentedSoftWrap',!1),b.setOption('useWorker',!0),b.on('changeAnnotation',function(){for(var a=b.getAnnotations()||[],c=0,d=a.length,e=!1;c<d;)/doctype first\. Expected/.test(a[c].text)?(a.splice(c,1),d--,e=!0):c++;removed&&b.setAnnotations(annotations)}),b},b.isInViewport=function(a){var b;try{b=a.getBoundingClientRect()}catch(a){return!0}return 0<b.bottom&&0<b.right&&b.left<(window.innerWidth||document.documentElement.clientWidth)&&b.top<(window.innerHeight||document.documentElement.clientHeight)},b.fn.isInViewport=function(){return!!this[0]&&b.isInViewport(this[0])},b.isRunningStandalone=function(){return window.matchMedia('(display-mode: standalone)').matches},window.URL=function(c){var d=document.createElement('a'),a={};return d.href=c,b.each(['hash','host','hostname','href','origin','pathname','port','protocol','search'],function(b,c){a[c]=d[c]}),a.pathString=a.pathname.replace(/^([^\/].*)$/,'/$1')+a.search+a.hash,a},window.OpenSidebarByDefault=function(){return 1200<=a(document.documentElement.clientWidth,window.innerWidth||0)},window.WithinMobileBreakpoint=function(){return 600>=a(document.documentElement.clientWidth,window.innerWidth||0)}}})(jQuery);
//# sourceMappingURL=/js/min/shared-utils.js.map

{"version":3,"sources":["poly-editor.js"],"names":["$","classStart","$doc","document","fn","polyEditor","options","image","Error","wrapwidth","wrapheight","movehandler","$imageElement","Image","attr","src","class","$svgElement","createElementNS","version","xmlns","$svgWrap","mk","append","$wrap","this","first","addClass","$mousepos","text","$imgtl","$imgc","$wrapc","$imgcExpected","topleft","imgoffset","scalefactor","framecenter","wrapcenterpos","TX","left","TY","top","FX","FY","NTX","NTY","imagepos","wrapoffset","wrappos","imagecenterpos","resized","height","width","offset","outerHeight","outerWidth","updatezoomlevel","$zoomperc","roundTo","zoomlevel","activeElement","blur","$zoomout","$zoomin","updatepositions","imgcenter","css","wrapcenter","zoomto","perc","size","data","_typeof","newzoomlevel","rangeLimit","newsize","oldzoomlevel","scaleResize","scale","zoomed","$imageOverlay","add","contenteditable","on","e","isKey","Key","Enter","preventDefault","parseFloat","isNaN","select","html","trim","length","clearSelection","$zoomfit","wide","Math","floor","$actionTopLeft","stopPropagation","triggerHandler","$actionsBottomLeft","appendTo","$loader","resizehandler","throttle","innerWidth","innerHeight","$w","detach","fadeTo","initial","initialmouse","mouse","pageY","pageX","target","is","off","destroy","empty","removeClass","jQuery"],"mappings":"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","file":"../src/poly-editor.js","sourceRoot":"/js/src"}
"use strict";DocReady.push(function(){var t=window.PRINTABLE_ASCII_PATTERN,e=window.EVENT_TYPES,n=$("#add-event"),o=$.mk("select").attr({name:"type",required:!0}).append('<option value="" style="display:none">(choose one)</option>'),a=$.mk("optgroup").attr("label","Available types").appendTo(o);$.each(e,function(t,e){a.append('<option value="'+t+'">'+e+"</option>")});var p=$.mk("form","add-event-form").append($.mk("label").append("<span>Event name (2-64 chars.)</span>",$.mk("input").attr({type:"text",name:"name",minlength:2,maxlength:64,required:!0}).patternAttr(t)),$.mk("label").append("<span>Event type</span>",o),$.mk("label").append('<span>Who should be able to enter?</span>\n\t\t\t\t<select name="entry_role" required>\n\t\t\t\t\t<optgroup label="Role in the group">\n\t\t\t\t\t\t<option value="user" selected>Any DeviantArt User</option>\n\t\t\t\t\t\t<option value="member">Club Members</option>\n\t\t\t\t\t\t<option value="staff">Staff Members</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t\t<optgroup label="Special">\n\t\t\t\t\t\t<option value="spec_discord">Discord Server Members</option>\n\t\t\t\t\t\t<option disabled value="spec_ai">Illustrator Users</option>\n\t\t\t\t\t\t<option disabled value="spec_inkscape">Inkscape Users</option>\n\t\t\t\t\t\t<option disabled value="spec_ponyscape">Ponyscape Users</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t</select>'));n.on("click",function(t){t.preventDefault(),$.Dialog.request("Add new event",p.clone(),"Add",function(t){t.on("submit",function(e){e.preventDefault();var n=t.mkData();$.Dialog.wait(!1),$.post("/event/add",n,$.mkAjaxHandler(function(){return this.status?($.Dialog.success(!1,"Event added"),$.Dialog.wait(!1,"Loading event page"),void(window.location.href=this.url)):$.Dialog.fail(!1,this.message)}))})})})});
//# sourceMappingURL=/js/min/events-manage.js.map

"use strict";$(function(){var t=$("#butwhy"),e=$("#thisiswhy");t.on("click",function(a){a.preventDefault(),a.stopPropagation(),t.addClass("hidden"),e.removeClass("hidden")}),Chart.defaults.global.responsive=!0,Chart.defaults.global.maintainAspectRatio=!1,Chart.defaults.global.animation=!1;var a=$("#stats"),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,a=t.red+","+t.green+","+t.blue,o="rgb("+a+")";return{lineTension:0,backgroundColor:0===e?"transparent":"rgba("+a+","+e+")",borderColor:o,borderWidth:2,pointBackgroundColor:o,pointRadius:3,pointHitRadius:6,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"#fff",pointHoverBorderColor:o}},s={position:"bottom",labels:{boxWidth:12}},n=[{type:"time",time:{unit:"day",unitStepSize:1,displayFormats:{day:"Do MMM"}},ticks:{autoSkip:!0,autoSkipPadding:10}}],i=[{type:"linear",ticks:{autoSkip:!0,maxTicksLimit:6}}],r=a.children(".stats-posts"),d=r.children("h3"),l=r.children(".legend"),p=r.find("canvas").get(0).getContext("2d"),m=void 0,u=["#46ACD3","#5240C3"];$.post("/about/stats?stat=posts",$.mkAjaxHandler(function(){if(!this.status)return r.remove();var t=this.data;if($.mk("p").append("Last updated: ",$.mk("time").attr("datetime",t.timestamp)).insertAfter(d),Time.Update(),0===t.datasets.length)return l.html("<strong>No data available</strong>");l.remove(),$.each(t.datasets,function(e,a){var s=$.RGBAColor.parse(u[a.clrkey]);$.extend(t.datasets[e],o(s))}),m=new Chart.Line(p,{data:t,options:{tooltips:{mode:"label",callbacks:{title:function(t){return moment(t[0].xLabel).format("Do MMMM, YYYY")}}},legend:s,scales:{xAxes:n,yAxes:i}}}),$w.on("resize",function(){m.resize()})}));var c=a.children(".stats-approvals"),h=c.children("h3"),f=c.children(".legend"),v=c.find("canvas").get(0).getContext("2d"),g=void 0,b=$.RGBAColor.parse("#4DC742");$.post("/about/stats?stat=approvals",$.mkAjaxHandler(function(){if(!this.status)return c.remove();var t=this.data,e=b;if($.mk("p").append("Last updated: ",$.mk("time").attr("datetime",t.timestamp)).insertAfter(h),Time.Update(),0===t.datasets.length)return f.html("<strong>No data available</strong>");f.remove(),$.extend(t.datasets[0],o(e)),g=new Chart.Line(v,{data:t,options:{tooltips:{mode:"label",callbacks:{title:function(t){return moment(t[0].xLabel).format("Do MMMM, YYYY")},label:function(t){var e=parseInt(t.yLabel,10);return(0===e?"No":e)+" post"+(1!==e?"s":"")+" approved"}}},legend:s,scales:{xAxes:n,yAxes:i}}}),$w.on("resize",function(){g.resize()})}));var k=a.children(".stats-alltimeposts"),C=k.children("h3"),x=k.children(".legend"),A=k.find("canvas").get(0).getContext("2d"),M=void 0,y=["#E64C8D","#46ACD3","#5240C3"];$.post("/about/stats?stat=alltimeposts",$.mkAjaxHandler(function(){if(!this.status)return k.remove();var t=this.data;if($.mk("p").append("Last updated: ",$.mk("time").attr("datetime",t.timestamp)).insertAfter(C),Time.Update(),0===t.datasets.length)return x.html("<strong>No data available</strong>");x.remove(),$.each(t.datasets,function(e,a){var s=$.RGBAColor.parse(y[a.clrkey]);$.extend(t.datasets[e],o(s,0===e?0:.1))}),M=new Chart.Line(A,{data:t,options:{tooltips:{mode:"label",callbacks:{title:function(t){return"Totals as of "+moment(t[0].xLabel).format("MMM 'YY")},label:function(t){var e=parseInt(t.yLabel,10);return 0===t.datasetIndex?(0===e?"No":e)+" approved post"+(1!==e?"s":""):(0===e?"No":e)+" "+(1===t.datasetIndex?"request":"reservation")+(1!==e?"s":"")}}},legend:s,scales:{xAxes:[{type:"time",time:{unit:"month",unitStepSize:1,displayFormats:{month:"MMM 'YY"}},ticks:{autoSkip:!0,autoSkipPadding:10}}],yAxes:i}}}),$w.on("resize",function(){M.resize()})}))});
//# sourceMappingURL=/js/min/pages/about/index.js.map

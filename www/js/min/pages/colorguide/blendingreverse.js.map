{"version":3,"sources":["pages/colorguide/blendingreverse.js"],"names":["$","RGB","ADD","red","green","blue","ix","i","k","Blender","normal","A","Top","Bot","normalReverse","Res","normalFilter","multiply","multiplyReverse","multiplyFilter","MultiplyReverseForm","_this","this","_classCallCheck","$knownColorsTbody","find","$backupImage","mk","overlayColor","RGBAColor","haveImage","selectedFilterColor","$preview","$previewImageCanvas","get","previewImageCanvas","getContext","$previewOverlayCanvas","previewOverlayCanvas","previewOverlayCtx","$addKnownColor","on","e","addKnownValueInputRow","$imageSelect","$imageSelectFileInput","children","$controls","input","files","name","split","pop","backupImage","FileReader","reader","src","target","result","fileName","one","previewImageCtx","off","$imageSelectFileButton","preventDefault","click","updateFilterCandidateList","$sensitivityControls","$sensitivitySlider","$sensitivityDisplay","sensitivitySlider","noUiSlider","updatePreview","start","range","Dialog","max","behaviour","format","to","n","values","handle","$filterTypeSelect","create","toBlob","blob","ins","getFilterType","saveAs","replace","$li","closest","from","hasClass","$filterCandidates","removeClass","addClass","parse","attr","$overlayControls","$overlayToggleInput","$resultSaveButton","checked","$overlayColorInput","newcolor","repaintOverlay","$el","val","value","color","backgroundColor","trigger","each","el","_createClass","key","className","_this2","append","type","required","isLight","toString","$this","rgb","css","toHex","vals","parsed","removeAttr","requestAnimationFrame","width","height","drawImage","clearRect","overlayData","getImageData","data","length","putImageData","_this3","redrawPreviewImage","noFilterColor","maxdiff","imgData","calculator","getReverseCalculator","j","newpixel","alpha","toobig","rangeLimit","_loop","disable","_this4","$inputs","toosmall","_","parentNode","pairs","push","allfilters","original","filtered","empty","bestfilters","pickBestFilterValues","getFilterDisplayLi","_this5","valid","rip","run","getFilterCalculator","isNaN","isFinite","fromRGB","_loop2","winners","getNormalCalculator","filterColor","score","subScore","subValue","test","diff","Math","abs","undefined","lowestScore","lowestIndex","round","toRGBA","rgba"],"mappings":"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","file":"../../../src/pages/colorguide/blendingreverse.js","sourceRoot":"/js/src"}
"use strict";$(function(){function e(e,r,n){return(r-(1-n)*e)/n}function r(r,n,t){return{red:e(r.red,n.red,t),green:e(r.green,n.green,t),blue:e(r.blue,n.blue,t),alpha:t}}var n=$("#blend-wrap"),t=n.children("form"),a=t.find("input:visible"),l=n.children(".result"),o=l.children(".preview"),c=l.children(".hex"),i=l.children(".hexa"),u=l.children(".rgba"),s=l.children(".opacity"),d=$(".delta-warn");function g(e){var r="",n="",t="";if(!1!==e){r=$.rgb2hex(e),o.css("background-color",r),n=(r='#<code class="color-red">'+r.substring(1,3)+'</code><code class="color-green">'+r.substring(3,5)+'</code><code class="color-darkblue">'+r.substring(5,7)+"</code>")+"<code>"+Math.round(255*e.alpha).toString(16).toUpperCase()+"</code>";var a=$.roundTo(e.alpha,2);e='rgba(<code class="color-red">'+e.red+'</code>, <code class="color-green">'+e.green+'</code>, <code class="color-darkblue">'+e.blue+"</code>, "+a+")</span>",t=100*a+"% opacity"}else e="",o.removeAttr("style");s.text(t),i.html(n),c.html(r),u.html(e)}a.on("keyup change input",function(){var e=$(this).prev(),r=$.RGBAColor.parse(this.value);null!==r?e.removeClass("invalid").css("background-color",r.toHex()):e.addClass("invalid"),t.triggerHandler("submit")}).on("paste blur",function(e){var r=$(this),n=function(){var n=$.RGBAColor.parse(r.val());null!==n&&(r.val(n.toHex()).trigger("change"),"blur"!==e.type&&r.next().focus())};"paste"===e.type?setTimeout(n,10):n()}).trigger("change"),t.on("submit",function(e){e.stopPropagation();var n=a.filter(":valid");if(4!==n.length)return g(!1);var t={};if(n.each(function(e,r){t[r.name]=r.value.toUpperCase()}),t.bg1===t.bg2)return g(!1);$.each(t,function(e,r){t[e]=$.RGBAColor.parse(r)});for(var l=1020,o=null,c=1;c<=255;c++){var i=r(t.bg1,t.blend1,c/255),u=r(t.bg2,t.blend2,c/255),s=Math.abs(i.red-u.red)+Math.abs(i.green-u.green)+Math.abs(i.blue-u.blue);s<l&&(l=s,o=i)}if(null===o)return g(!1);d[l>10?"show":"hide"](),g({red:Math.round(o.red),green:Math.round(o.green),blue:Math.round(o.blue),alpha:o.alpha})}).triggerHandler("submit"),t.on("click","td",function(e){if(!e.shiftKey)return!0;var r=$(this).find(".clri");if(0===r.length)return!0;e.preventDefault();var n=r.val(),t=$.mk("div").attr("class","preview").css("background-color",n),a=$.RGBAColor.parse(n),l=$.mk("div").attr("class","input-group-3").html("<input type='number' class='color-red' name='r' min='0' max='255' step='1' value='"+a.red+"'>\n\t\t\t\t<input type='number' class='color-green' name='g' min='0' max='255' step='1' value='"+a.green+"'>\n\t\t\t\t<input type='number' class='color-darkblue' name='b' min='0' max='255' step='1' value='"+a.blue+"'>");l.children().on("keyup change input mouseup",function(){var e=$(this).closest("form");e.children(".preview").css("background-color",$.rgb2hex(e.mkData()))});var o=$.mk("form","enter-rgb").append(l,t);$.Dialog.setFocusedElement(r),$.Dialog.request("Enter RGB values",o,"Set",function(e){e.on("submit",function(n){n.preventDefault(),r.val($.rgb2hex(e.mkData())).trigger("change"),$.Dialog.close()})})})});
//# sourceMappingURL=/js/min/pages/colorguide/blending.js.map

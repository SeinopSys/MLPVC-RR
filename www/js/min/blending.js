'use strict';DocReady.push(function(){'use strict';function a(a,b,c){return(b-(1-c)*a)/c}function b(b,c,d){return{r:a(b.r,c.r,d),g:a(b.g,c.g,d),b:a(b.b,c.b,d),a:d}}function c(a){var b='',c='',e='';if(a){b=$.rgb2hex(a),i.css('background-color',b),b='#<code class="color-red">'+b.substring(1,3)+'</code><code class="color-green">'+b.substring(3,5)+'</code><code class="color-darkblue">'+b.substring(5,7)+'</code>',c=b+('<code>'+d(255*a.a).toString(16).toUpperCase()+'</code>');var f=$.roundTo(a.a,2);a='rgba(<code class="color-red">'+a.r+'</code>, <code class="color-green">'+a.g+'</code>, <code class="color-darkblue">'+a.b+'</code>, '+f+')</span>',e=100*f+'% opacity'}else a='',i.removeAttr('style');m.text(e),k.html(c),j.html(b),l.html(a)}var d=Math.round,e=$('#blend-wrap'),f=e.children('form'),g=f.find('input:visible'),h=e.children('.result'),i=h.children('.preview'),j=h.children('.hex'),k=h.children('.hexa'),l=h.children('.rgba'),m=h.children('.opacity'),n=$('.delta-warn');g.on('keyup change input',function(){var a=$(this).prev(),b=$.hexpand(this.value).toUpperCase();HEX_COLOR_PATTERN.test(b)?a.removeClass('invalid').css('background-color',b):a.addClass('invalid'),f.triggerHandler('submit')}).on('paste blur',function(a){var b=$(this),c=function(){var c=$.hexpand(b.val());HEX_COLOR_PATTERN.test(c)&&(b.val(c.replace(HEX_COLOR_PATTERN,'#$1').toUpperCase()).trigger('change'),'blur'!==a.type&&b.next().focus())};'paste'===a.type?setTimeout(c,10):c()}).trigger('change'),f.on('submit',function(a){var e=Math.abs;a.stopPropagation();var f=g.filter(':valid');if(4!==f.length)return c(!1);var h={};if(f.each(function(a,b){h[b.name]=b.value.toUpperCase()}),h.bg1===h.bg2)return c(!1);$.each(h,function(a,b){h[a]=$.hex2rgb(b)});for(var i=1020,j=null,k=1;255>=k;k++){var l=b(h.bg1,h.blend1,k/255),m=b(h.bg2,h.blend2,k/255),o=e(l.r-m.r)+e(l.g-m.g)+e(l.b-m.b);o<i&&(i=o,j=l)}return null===bestMatch?c(!1):void(n[10<minDelta?'show':'hide'](),c({r:d(bestMatch.r),g:d(bestMatch.g),b:d(bestMatch.b),a:bestMatch.a}))}).triggerHandler('submit'),f.on('click','td',function(a){if(!a.shiftKey)return!0;var b=$(this).find('.clri');if(0===b.length)return!0;a.preventDefault();var c=b.val(),d=$.mk('div').attr('class','preview').css('background-color',c),e=$.hex2rgb(c),f=$.mk('div').attr('class','input-group-3').html('<input type=\'number\' class=\'color-red\' name=\'r\' min=\'0\' max=\'255\' step=\'1\' value=\''+e.r+'\'>\n\t\t\t\t<input type=\'number\' class=\'color-green\' name=\'g\' min=\'0\' max=\'255\' step=\'1\' value=\''+e.g+'\'>\n\t\t\t\t<input type=\'number\' class=\'color-darkblue\' name=\'b\' min=\'0\' max=\'255\' step=\'1\' value=\''+e.b+'\'>');f.children().on('keyup change input mouseup',function(){var a=$(this).closest('form');a.children('.preview').css('background-color',$.rgb2hex(a.mkData()))});var g=$.mk('form','enter-rgb').append(f,d);$.Dialog.setFocusedElement(b),$.Dialog.request('Enter RGB values',g,'Set',function(a){a.on('submit',function(c){c.preventDefault(),b.val($.rgb2hex(a.mkData())).trigger('change'),$.Dialog.close()})})})});
//# sourceMappingURL=/js/min/blending.js.map

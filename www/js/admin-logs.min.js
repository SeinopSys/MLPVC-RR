"use strict";DocReady.push(function(){var t=!1;$("#logs").find("tbody").off("page-switch").on("page-switch",function(){$(this).children().each(function(){var n=$(this);n.find(".expand-section").off("click").on("click",function(){var s=$(this),e="Log entry details";if(s.hasClass("typcn-minus"))s.toggleClass("typcn-minus typcn-plus").next().stop().slideUp();else if(1===s.next().length)s.toggleClass("typcn-minus typcn-plus").next().stop().slideDown();else{if(t)return!1;t=!0,s.removeClass("typcn-minus typcn-plus").addClass("typcn-refresh");var i=parseInt(n.children().first().text());$.post("/admin/logs/details/"+i,$.mkAjaxHandler(function(){this.status||$.Dialog.fail(e,this.message);var t=$.mk("div").attr("class","expandable-section").css("display","none");$.each(this.details,function(n,s){"boolean"==typeof s[1]&&(s[1]='<span class="color-'+(s[1]?"green":"red")+'">'+(s[1]?"yes":"no")+"</span>");var e=/[a-z]$/i;s[0]="<strong>"+s[0]+(e.test(s[0])?":":"")+"</strong>",t.append("<p>"+s.join(" ")+"</p>")}),t.insertAfter(s).slideDown(),Time.Update(),s.addClass("typcn-minus color-darkblue")})).always(function(){t=!1,s.removeClass("typcn-refresh")}).fail(function(){s.addClass("typcn-times color-red").css("cursor","not-allowed").off("click")})}})})}).trigger("page-switch").on("click",".dynt-el",function(){var t=$w.width();if(t<650){var n=$(this),s=n.parent(),e=s.parent(),i=e.children(".ip").clone();i.children(".self").html(function(){return $(this).text()}),i=i.html().split("<br>"),$.Dialog.info("Hidden details of entry #"+e.children(".entryid").text(),"<b>Timestamp:</b> "+s.children("time").html().trim().replace(/<br>/," ")+'\n\t\t\t\t<span class="modal-ip"><br>\n\t\t\t\t\t<b>Initiator:</b> '+i[0]+"<br>\n\t\t\t\t\t<b>IP Address:</b> "+$.mk("div").html(i[1]).text()+"\n\t\t\t\t</span>")}})});
//# sourceMappingURL=/js/admin-logs.min.js.map

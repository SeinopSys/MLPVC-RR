{"version":3,"sources":["dialog.js"],"names":["$","undefined","$makeDiv","id","mk","attr","$dialogOverlay","$dialogContent","$dialogHeader","$dialogBox","$dialogButtons","$html","colors","fail","success","wait","request","confirm","info","defaultTitles","defaultContent","$w","window","Dialog","open","title","content","callback","display","Close","action","close","closeBtn","additional_info","length","toUpperCase","substring","formid","caption","obj","submit","form","btnTextArray","handlerFunc","Function","isArray","buttonsObj","_storeFocus","_focusedElement","jQuery","$focus","last","_restoreFocus","focus","_setFocus","$inputs","find","filter","$actions","children","first","type","buttons","params","run","append","$contentAdd","addClass","color","text","html","appendTo","empty","document","body","$form","each","name","$button","on","trigger","prepend","hide","val","e","indexOf","keyCode","preventDefault","$dBc","$focused","shiftKey","prev","next","add","center","TypeError","remove","removeClass","overlay","w","width","h","height","dialog","outerWidth","outerHeight","css","Math","max","$this","target","idx","index"],"mappings":"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","file":"dialog.min.js","sourcesContent":["(function ($, undefined) {\r\n\tfunction $makeDiv(id){ return $.mk('div').attr('id', id) }\r\n\tvar $html = $('html'),\r\n\t\tcolors = {\r\n\t\t\tfail: 'red',\r\n\t\t\tsuccess: 'green',\r\n\t\t\twait: 'blue',\r\n\t\t\trequest: 'yellow',\r\n\t\t\tconfirm: 'orange',\r\n\t\t\tinfo: 'darkblue'\r\n\t\t},\r\n\t\tdefaultTitles = {\r\n\t\t\tfail: 'Error',\r\n\t\t\tsuccess: 'Success',\r\n\t\t\twait: 'Sending request',\r\n\t\t\trequest: 'Input required',\r\n\t\t\tconfirm: 'Confirmation',\r\n\t\t\tinfo: 'Info',\r\n\t\t},\r\n\t\tdefaultContent = {\r\n\t\t\tfail: 'There was an issue while processing the request.',\r\n\t\t\tsuccess: 'Whatever you just did, it was completed successfully.',\r\n\t\t\trequest: 'The request did not require any additional info.',\r\n\t\t\tconfirm: 'Are you sure?',\r\n\t\t\tinfo: 'No message provided.',\r\n\t\t},\r\n\t\t$w = $(window), $dialogOverlay, $dialogContent, $dialogHeader, $dialogBox, $dialogButtons;\r\n\t\r\n\t$.Dialog = {\r\n\t\topen: undefined,\r\n\t\tfail: function(title,content,callback){\r\n\t\t\t$.Dialog.display('fail',title,content,{\r\n\t\t\t\t'Close': {\r\n\t\t\t\t\t'action': function(){\r\n\t\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},callback);\r\n\t\t},\r\n\t\tsuccess: function(title,content,closeBtn,callback){\r\n\t\t\t$.Dialog.display('success',title,content,(closeBtn === true ? {\r\n\t\t\t\t'Close': {\r\n\t\t\t\t\t'action': function(){\r\n\t\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} : undefined), callback);\r\n\t\t},\r\n\t\twait: function(title,additional_info,callback){\r\n\t\t\tif (typeof additional_info === 'function' && callback === 'undefined'){\r\n\t\t\t\tcallback = additional_info;\r\n\t\t\t}\r\n\t\t\tif (typeof additional_info !== 'string' || additional_info.length < 2) additional_info = 'Sending request';\r\n\t\t\t$.Dialog.display('wait',title,additional_info[0].toUpperCase()+additional_info.substring(1)+'...',callback);\r\n\t\t},\r\n\t\trequest: function(title,content,formid,caption,callback){\r\n\t\t\tif (typeof caption === 'function' && typeof callback === 'undefined'){\r\n\t\t\t\tcallback = caption;\r\n\t\t\t\tcaption = 'ElkÃ¼ld';\r\n\t\t\t}\r\n\t\t\tvar obj = {};\r\n\t\t\tobj[caption] = {\r\n\t\t\t\t'submit': true,\r\n\t\t\t\t'form': formid,\r\n\t\t\t};\r\n\t\t\tobj['Cancel'] = {\r\n\t\t\t\t'action': function(){\r\n\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\t$.Dialog.display('request',title,content,obj, callback);\r\n\t\t},\r\n\t\tconfirm: function(title,content,btnTextArray,handlerFunc){\r\n\t\t\tif (typeof btnTextArray === 'function' && typeof handlerFunc === 'undefined')\r\n\t\t\t\thandlerFunc = btnTextArray;\r\n\t\t\t\r\n\t\t\tif (typeof handlerFunc !== 'function') handlerFunc = new Function();\r\n\t\t\t\r\n\t\t\tif (!$.isArray(btnTextArray)) btnTextArray = ['Eeyup','Nope'];\r\n\t\t\tvar buttonsObj = {};\r\n\t\t\tbuttonsObj[btnTextArray[0]] = {'action': function(){ handlerFunc(true) }};\r\n\t\t\tbuttonsObj[btnTextArray[1]] = {'action': function(){ handlerFunc(false); $.Dialog.close() }};\r\n\t\t\t$.Dialog.display('confirm',title,content,buttonsObj);\r\n\t\t},\r\n\t\tinfo: function(title,content,callback){\r\n\t\t\t$.Dialog.display('info',title,content,{\r\n\t\t\t\t'Close': {\r\n\t\t\t\t\t'action': function(){\r\n\t\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},callback);\r\n\t\t},\r\n\t\t_storeFocus: function(){\r\n\t\t\tif (typeof $.Dialog._focusedElement !== 'undefined' && $.Dialog._focusedElement instanceof jQuery)\r\n\t\t\t\treturn;\r\n\t\t\tvar $focus = $(':focus');\r\n\t\t\tif ($focus.length > 0) $.Dialog._focusedElement = $focus.last();\r\n\t\t\telse $.Dialog._focusedElement = undefined;\r\n\t\t},\r\n\t\t_restoreFocus: function(){\r\n\t\t\tif (typeof $.Dialog._focusedElement !== 'undefined' && $.Dialog._focusedElement instanceof jQuery)\r\n\t\t\t\t$.Dialog._focusedElement.focus();\r\n\t\t},\r\n\t\t_setFocus: function(){\r\n\t\t\tvar $inputs = $('#dialogContent').find('input,select,textarea').filter(':visible'),\r\n\t\t\t\t$actions = $('#dialogButtons').children();\r\n\t\t\tif ($inputs.length > 0) $inputs.first().focus();\r\n\t\t\telse if ($actions.length > 0) $actions.first().focus();\r\n\t\t},\r\n\t\tdisplay: function (type,title,content,buttons,params,callback) {\r\n\t\t\tif (typeof type !== 'string' || typeof colors[type] === 'undefined') throw new TypeError('Invalid dialog type: '+typeof type);\r\n\r\n\t\t\tfunction run(append){\r\n\t\t\t\tvar $contentAdd = $makeDiv().addClass(params.color);\r\n\t\t\t\tif (append){\r\n\t\t\t\t\t$dialogOverlay = $('#dialogOverlay');\r\n\t\t\t\t\t$dialogBox = $('#dialogBox');\r\n\t\t\t\t\t$dialogHeader = $('#dialogHeader');\r\n\t\t\t\t\tif (typeof params.title === 'string')\r\n\t\t\t\t\t\t$dialogHeader.text(params.title);\r\n\t\t\t\t\t$dialogContent = $('#dialogContent');\r\n\t\t\t\t\t$dialogButtons = $('#dialogButtons');\r\n\t\t\t\t\t$dialogContent.children(':not(:last-child)').find('input, select, textarea').attr('disabled',true);\r\n\t\t\t\t\t$dialogContent.append($contentAdd.html(params.content));\r\n\r\n\t\t\t\t\tif (params.buttons){\r\n\t\t\t\t\t\tif ($dialogButtons.length === 0)\r\n\t\t\t\t\t\t\t$dialogButtons = $makeDiv('dialogButtons');\r\n\t\t\t\t\t\t$dialogButtons.appendTo($dialogContent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$dialogButtons.empty();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t$.Dialog._storeFocus();\r\n\r\n\t\t\t\t\t$dialogOverlay = $makeDiv('dialogOverlay');\r\n\t\t\t\t\t$dialogHeader = $makeDiv('dialogHeader').text(params.title||defaultTitles[type]);\r\n\t\t\t\t\t$dialogContent = $makeDiv('dialogContent');\r\n\t\t\t\t\t$dialogBox = $makeDiv('dialogBox');\r\n\r\n\t\t\t\t\t$dialogContent.append($contentAdd.html(params.content));\r\n\t\t\t\t\t$dialogButtons = $makeDiv('dialogButtons').appendTo($dialogContent);\r\n\t\t\t\t\t$dialogBox.append($dialogHeader).append($dialogContent);\r\n\t\t\t\t\t$dialogOverlay.append($dialogBox).appendTo(document.body);\r\n\r\n\t\t\t\t\t$html.addClass('dialog-open');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t$dialogHeader.attr('class',params.color+'-bg');\r\n\r\n\t\t\t\tvar $form = false;\r\n\t\t\t\tif (params.buttons) $.each(params.buttons, function (name, obj) {\r\n\t\t\t\t\tvar $button = $.mk('input').attr('type','button');\r\n\t\t\t\t\t$button.attr('class',params.color+'-bg');\r\n\t\t\t\t\tif (obj.form){\r\n\t\t\t\t\t\t$form = $('#'+obj.form);\r\n\t\t\t\t\t\tif ($form.length == 1){\r\n\t\t\t\t\t\t\t$button.on('click', function(){\r\n\t\t\t\t\t\t\t\t$form.find('input[type=submit]').trigger('click');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t$form.prepend($.mk('input').attr('type','submit').hide());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$button.val(name).on('keydown', function (e) {\r\n\t\t\t\t\t\tif ([13, 32].indexOf(e.keyCode) !== -1){\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t$button.trigger('click');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if ([9, 37, 39].indexOf(e.keyCode) !== -1){\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar $dBc = $dialogButtons.children(),\r\n\t\t\t\t\t\t\t\t$focused = $dBc.filter(':focus'),\r\n\t\t\t\t\t\t\t\t$inputs = $dialogContent.find(':input');\r\n\r\n\t\t\t\t\t\t\tif (e.keyCode === 37) e.shiftKey = true;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ($focused.length){\r\n\t\t\t\t\t\t\t\tif (!e.shiftKey){\r\n\t\t\t\t\t\t\t\t\tif ($focused.next().length) $focused.next().focus();\r\n\t\t\t\t\t\t\t\t\telse if (e.keyCode === 9) $inputs.add($dBc).filter(':visible').first().focus();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif ($focused.prev().length) $focused.prev().focus();\r\n\t\t\t\t\t\t\t\t\telse if (e.keyCode === 9) ($inputs.length > 0 ? $inputs : $dBc).filter(':visible').last().focus();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse $inputs.add($dBc)[!e.shiftKey ? 'first' : 'last']().focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).on('click', function (e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (typeof obj.action === 'function') obj.action(e);\r\n\r\n\t\t\t\t\t\tif (obj.type === 'close') $.Dialog.close(typeof obj.callback === 'function' ? obj.callback : undefined);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$dialogButtons.append($button);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$.Dialog.center();\r\n\t\t\t\t$.Dialog._setFocus();\r\n\r\n\t\t\t\tif (typeof callback === 'function') callback($form);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (typeof buttons == \"function\" && typeof params == \"undefined\" && typeof callback == 'undefined')\r\n\t\t\t\tcallback = buttons;\r\n\t\t\telse if (typeof buttons == \"object\" && typeof params == \"function\" && typeof callback == 'undefined')\r\n\t\t\t\tcallback = params;\r\n\t\t\tif (typeof params == \"undefined\") params = {};\r\n\t\t\t\r\n\t\t\tif (typeof title === 'undefined') title = defaultTitles[type];\r\n\t\t\telse if (title === false) title = undefined;\r\n\t\t\tif (typeof content === 'undefined') content = defaultContent[type];\r\n\t\t\tparams = {\r\n\t\t\t\ttype: type,\r\n\t\t\t\ttitle: title,\r\n\t\t\t\tcontent: content,\r\n\t\t\t\tbuttons: buttons,\r\n\t\t\t\tcolor: colors[type]\r\n\t\t\t};\r\n\r\n\t\t\tif (typeof $.Dialog.open == \"undefined\"){\r\n\t\t\t\t$.Dialog.open = params;\r\n\t\t\t\trun();\r\n\t\t\t}\r\n\t\t\telse run(!!$.Dialog.open);\r\n\t\t},\r\n\t\tclose: function (callback) {\r\n\t\t\tif (typeof $.Dialog.open === \"undefined\") return typeof callback == 'function' ? callback() : false;\r\n\r\n\t\t\t$dialogOverlay.remove();\r\n\t\t\t$.Dialog.open = void(0);\r\n\t\t\t$.Dialog._restoreFocus();\r\n\t\t\tif (typeof callback == 'function') callback();\r\n\r\n\t\t\t$html.removeClass('dialog-open');\r\n\t\t},\r\n\t\tcenter: function(){\r\n\t\t\tif (typeof $.Dialog.open === 'undefined') return;\r\n\r\n\t\t\tvar overlay = {w: $dialogOverlay.width(), h: $dialogOverlay.height()},\r\n\t\t\t\tdialog = {w: $dialogBox.outerWidth(true), h: $dialogBox.outerHeight(true)};\r\n\t\t\t$dialogBox.css(\"top\", Math.max((overlay.h - dialog.h) / 2, 0));\r\n\t\t\t$dialogBox.css(\"left\", Math.max((overlay.w - dialog.w) / 2, 0));\r\n\t\t}\r\n\t};\r\n\r\n\t$w.on('resize', $.Dialog.center);\r\n\t$(document.body).on('keydown',function(e){\r\n\t\tif (e.keyCode === 9 && typeof $.Dialog.open !== 'undefined'){\r\n\t\t\tvar $this = $(e.target),\r\n\t\t\t\t$inputs = $('#dialogContent').find(':input'),\r\n\t\t\t\tidx = $this.index('#dialogContent :input');\r\n\r\n\t\t\tif (e.shiftKey && idx === 0){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t$('#dialogButtons').find(':last').focus();\r\n\t\t\t}\r\n\t\t\telse if ($inputs.filter(':focus').length !== 1){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t$inputs.first().focus();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}
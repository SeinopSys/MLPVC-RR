{"version":3,"sources":["dialog.js"],"names":["$","undefined","$makeDiv","id","document","createElement","attr","$dialogOverlay","$dialogContent","$dialogHeader","$dialogBox","$dialogButtons","$html","colors","fail","success","wait","request","confirm","info","defaultTitles","defaultContent","$w","window","Dialog","open","title","content","callback","display","Close","action","close","closeBtn","additional_info","length","toUpperCase","substring","formid","caption","obj","submit","form","btnTextArray","handlerFunc","Function","isArray","buttonsObj","type","buttons","params","setFocus","$focus","_focusedElement","last","$inputs","find","filter","$actions","children","first","focus","run","append","$contentAdd","addClass","color","text","html","appendTo","empty","css","body","each","name","$button","$form","click","trigger","prepend","hide","val","on","e","indexOf","keyCode","preventDefault","$dBc","$focused","shiftKey","prev","next","add","center","TypeError","remove","jQuery","removeClass","overlay","w","width","h","height","dialog","outerWidth","outerHeight","Math","max","$this","target","idx","index"],"mappings":"CAAA,SAAWA,EAAGC,GACb,QAASC,GAASC,GAAK,MAAOH,GAAEI,SAASC,cAAc,QAAQC,KAAK,KAAMH,GAC1E,GAwBiBI,GAAgBC,EAAgBC,EAAeC,EAAYC,EAxBxEC,EAAQZ,EAAE,QACba,GACCC,KAAM,MACNC,QAAS,QACTC,KAAM,OACNC,QAAS,SACTC,QAAS,SACTC,KAAM,YAEPC,GACCN,KAAM,QACNC,QAAS,UACTC,KAAM,kBACNC,QAAS,iBACTC,QAAS,eACTC,KAAM,QAEPE,GACCP,KAAM,mDACNC,QAAS,wDACTE,QAAS,mDACTC,QAAS,gBACTC,KAAM,wBAEPG,EAAKtB,EAAEuB,OAERvB,GAAEwB,QACDC,KAAMxB,EACNa,KAAM,SAASY,EAAMC,EAAQC,GAC5B5B,EAAEwB,OAAOK,QAAQ,OAAOH,EAAMC,GAC7BG,OACCC,OAAU,WACT/B,EAAEwB,OAAOQ,WAGVJ,IAEHb,QAAS,SAASW,EAAMC,EAAQM,EAASL,GACxC5B,EAAEwB,OAAOK,QAAQ,UAAUH,EAAMC,EAASM,KAAa,GACtDH,OACCC,OAAU,WACT/B,EAAEwB,OAAOQ,WAGR/B,EAAY2B,IAEjBZ,KAAM,SAASU,EAAMQ,EAAgBN,GACL,kBAApBM,IAA+C,cAAbN,IAC5CA,EAAWM,IAEmB,gBAApBA,IAAgCA,EAAgBC,OAAS,KAAGD,EAAkB,mBACzFlC,EAAEwB,OAAOK,QAAQ,OAAOH,EAAMQ,EAAgB,GAAGE,cAAcF,EAAgBG,UAAU,GAAG,MAAMT,IAEnGX,QAAS,SAASS,EAAMC,EAAQW,EAAOC,EAAQX,GACvB,kBAAZW,IAA8C,mBAAbX,KAC3CA,EAAWW,EACXA,EAAU,SAEX,IAAIC,KACJA,GAAID,IACHE,QAAU,EACVC,KAAQJ,GAETE,EAAY,QACXT,OAAU,WACT/B,EAAEwB,OAAOQ,UAIXhC,EAAEwB,OAAOK,QAAQ,UAAUH,EAAMC,EAAQa,EAAKZ,IAE/CV,QAAS,SAASQ,EAAMC,EAAQgB,EAAaC,GAChB,kBAAjBD,IAAsD,mBAAhBC,KAChDA,EAAcD,GAEY,kBAAhBC,KAA4BA,EAAc,GAAIC,WAEpD7C,EAAE8C,QAAQH,KAAeA,GAAgB,QAAQ,QACtD,IAAII,KACJA,GAAWJ,EAAa,KAAOZ,OAAU,WAAYa,GAAY,KACjEG,EAAWJ,EAAa,KAAOZ,OAAU,WAAYa,GAAY,GAAQ5C,EAAEwB,OAAOQ,UAClFhC,EAAEwB,OAAOK,QAAQ,UAAUH,EAAMC,EAAQoB,IAE1C5B,KAAM,SAASO,EAAMC,EAAQC,GAC5B5B,EAAEwB,OAAOK,QAAQ,OAAOH,EAAMC,GAC7BG,OACCC,OAAU,WACT/B,EAAEwB,OAAOQ,WAGVJ,IAEHC,QAAS,SAAUmB,EAAKtB,EAAMC,EAAQsB,EAAQC,EAAOtB,GAGpD,QAASuB,KACR,GAAIC,GAASpD,EAAE,SACQuB,QAAO8B,gBAA1BD,EAAOjB,OAAS,EAA4BiB,EAAOE,OACzBrD,CAC9B,IAAIsD,GAAUvD,EAAE,kBAAkBwD,KAAK,yBAAyBC,OAAO,YACtEC,EAAW1D,EAAE,kBAAkB2D,UAC5BJ,GAAQpB,OAAS,EAAGoB,EAAQK,QAAQC,QAC/BH,EAASvB,OAAS,GAAGuB,EAASE,QAAQC,QAGhD,QAASC,GAAIC,GACZ,GAAIC,GAAc9D,IAAW+D,SAASf,EAAOgB,MACzCH,IACHxD,EAAiBP,EAAE,kBACnBU,EAAaV,EAAE,cACfS,EAAgBT,EAAE,iBACU,gBAAjBkD,GAAOxB,OACjBjB,EAAc0D,KAAKjB,EAAOxB,OAC3BlB,EAAiBR,EAAE,kBACnBW,EAAiBX,EAAE,kBACnBQ,EAAemD,SAAS,qBAAqBH,KAAK,2BAA2BlD,KAAK,YAAW,GAC7FE,EAAeuD,OAAOC,EAAYI,KAAKlB,EAAOvB,UAE1CuB,EAAOD,UACoB,IAA1BtC,EAAewB,SAClBxB,EAAiBT,EAAS,kBAC3BS,EAAe0D,SAAS7D,IAEzBG,EAAe2D,UAGf/D,EAAiBL,EAAS,iBAC1BO,EAAgBP,EAAS,gBAAgBiE,KAAKjB,EAAOxB,OAAON,EAAc4B,IAC1ExC,EAAiBN,EAAS,iBAC1BQ,EAAaR,EAAS,aAEtBM,EAAeuD,OAAOC,EAAYI,KAAKlB,EAAOvB,UAC9CjB,EAAWqD,OAAOtD,GAAesD,OAAOvD,GACxCG,EAAiBT,EAAS,iBAAiBmE,SAAS7D,GACpDD,EAAegE,IAAI,UAAU,GAAGF,SAASjE,SAASoE,MAClD9D,EAAW2D,SAAS9D,GACpBA,EAAegE,IAAI,UAAU,GAE7BpB,IACAvC,EAAMqD,SAAS,gBAGhBxD,EAAcH,KAAK,QAAQ4C,EAAOgB,MAAM,OAEpChB,EAAOD,SAASjD,EAAEyE,KAAKvB,EAAOD,QAAS,SAAUyB,EAAMlC,GAC1D,GAAImC,GAAU3E,EAAEI,SAASC,cAAc,UAAUC,KAAK,OAAO,SAE7D,IADAqE,EAAQrE,KAAK,QAAQ4C,EAAOgB,MAAM,OAC9B1B,EAAIE,KAAK,CACZ,GAAIkC,GAAQ5E,EAAE,IAAIwC,EAAIE,KACF,IAAhBkC,EAAMzC,SACTwC,EAAQE,MAAM,WACbD,EAAMpB,KAAK,sBAAsBsB,QAAQ,WAE1CF,EAAMG,QAAQ/E,EAAEI,SAASC,cAAc,UAAUC,KAAK,OAAO,UAAU0E,SAGzEL,EAAQM,IAAIP,GAAMQ,GAAG,UAAW,SAAUC,GACzC,GAAoC,MAA/B,GAAI,IAAIC,QAAQD,EAAEE,SACtBF,EAAEG,iBAEFX,EAAQG,QAAQ,aAEZ,IAAkB,IAAdK,EAAEE,QAAc,CACxBF,EAAEG,gBAEF,IAAIC,GAAO5E,EAAegD,WACzB6B,EAAWD,EAAK9B,OAAO,UACvBF,EAAU/C,EAAegD,KAAK,SAE3BgC,GAASrD,OACPgD,EAAEM,SAKFD,EAASE,OAAOvD,OAAQqD,EAASE,OAAO7B,SACtCN,EAAQpB,OAAS,EAAIoB,EAAUgC,GAAMjC,OAAOO,QAL9C2B,EAASG,OAAOxD,OAAQqD,EAASG,OAAO9B,QACvCN,EAAQqC,IAAIL,GAAM3B,QAAQC,QAO5BN,EAAQqC,IAAIL,GAAOJ,EAAEM,SAAqB,OAAV,WAAoB5B,WAExDqB,GAAG,QAAS,SAAUC,GACxBA,EAAEG,iBAEwB,kBAAf9C,GAAIT,QAAuBS,EAAIT,OAAOoD,GAEhC,UAAb3C,EAAIQ,MAAkBhD,EAAEwB,OAAOQ,MAA8B,kBAAjBQ,GAAIZ,SAA0BY,EAAIZ,SAAW3B,KAE9FU,EAAeoD,OAAOY,KAGvB3E,EAAEwB,OAAOqE,SAET1C,IAEwB,kBAAbvB,IAAyBA,IAtGrC,GAAoB,gBAAToB,IAA6C,mBAAjBnC,GAAOmC,GAAuB,KAAM,IAAI8C,WAAU,8BAA+B9C,GAyGlG,mBAAXC,IAA0C,mBAAVC,IAA4C,mBAAZtB,GAC1EA,EAAWqB,EACe,gBAAXA,IAAwC,kBAAVC,IAA2C,mBAAZtB,KAC5EA,EAAWsB,GACS,mBAAVA,KAAuBA,MAEb,mBAAVxB,GAAuBA,EAAQN,EAAc4B,GAC/CtB,KAAU,IAAOA,EAAQzB,GACX,mBAAZ0B,KAAyBA,EAAUN,EAAe2B,IAC7DE,GACCF,KAAMA,EACNtB,MAAOA,EACPC,QAASA,EACTsB,QAASA,EACTiB,MAAOrD,EAAOmC,IAGa,mBAAjBhD,GAAEwB,OAAOC,MACnBzB,EAAEwB,OAAOC,KAAOyB,EAChBY,KAEIA,IAAM9D,EAAEwB,OAAOC,OAErBO,MAAO,SAAUJ,GAChB,MAA6B,mBAAlB5B,GAAEwB,OAAOC,KAAgD,kBAAZG,GAAyBA,KAAa,GAE9FrB,EAAewF,SACf/F,EAAEwB,OAAOC,KAAO,OACZF,OAAO8B,0BAA2B2C,SAAQzE,OAAO8B,gBAAgBQ,QAC9C,kBAAZjC,IAAwBA,QAEnChB,GAAMqF,YAAY,iBAEnBJ,OAAQ,WACP,GAAIK,IAAWC,EAAG5F,EAAe6F,QAASC,EAAG9F,EAAe+F,UAC3DC,GAAUJ,EAAGzF,EAAW8F,aAAcH,EAAG3F,EAAW+F,cACrD/F,GAAW6D,IAAI,MAAOmC,KAAKC,KAAKT,EAAQG,EAAIE,EAAOF,GAAK,EAAG,IAC3D3F,EAAW6D,IAAI,OAAQmC,KAAKC,KAAKT,EAAQC,EAAII,EAAOJ,GAAK,EAAG,MAI9D7E,EAAG4D,GAAG,SAAS,WACe,mBAAlBlF,GAAEwB,OAAOC,OAElByD,GAAG,YAAY,WACjBlF,EAAEwB,OAAOV,MAAK,EAAM,iHAErBd,EAAEI,SAASoE,MAAMU,GAAG,UAAU,SAASC,GACtC,GAAkB,IAAdA,EAAEE,SAA0C,mBAAlBrF,GAAEwB,OAAOC,KAAqB,CAC3D,GAAImF,GAAQ5G,EAAEmF,EAAE0B,QACftD,EAAUvD,EAAE,kBAAkBwD,KAAK,UACnCsD,EAAMF,EAAMG,MAAM,wBAEf5B,GAAEM,UAAoB,IAARqB,GACjB3B,EAAEG,iBACFtF,EAAE,kBAAkBwD,KAAK,SAASK,SAEU,IAApCN,EAAQE,OAAO,UAAUtB,SACjCgD,EAAEG,iBACF/B,EAAQK,QAAQC,aAIjBmC","file":"dialog.min.js","sourcesContent":["(function ($, undefined) {\r\n\tfunction $makeDiv(id){ return $(document.createElement('div')).attr('id', id) }\r\n\tvar $html = $('html'),\r\n\t\tcolors = {\r\n\t\t\tfail: 'red',\r\n\t\t\tsuccess: 'green',\r\n\t\t\twait: 'blue',\r\n\t\t\trequest: 'yellow',\r\n\t\t\tconfirm: 'orange',\r\n\t\t\tinfo: 'darkblue'\r\n\t\t},\r\n\t\tdefaultTitles = {\r\n\t\t\tfail: 'Error',\r\n\t\t\tsuccess: 'Success',\r\n\t\t\twait: 'Sending request',\r\n\t\t\trequest: 'Input required',\r\n\t\t\tconfirm: 'Confirmation',\r\n\t\t\tinfo: 'Info',\r\n\t\t},\r\n\t\tdefaultContent = {\r\n\t\t\tfail: 'There was an issue while processing the request.',\r\n\t\t\tsuccess: 'Whatever you just did, it was completed successfully.',\r\n\t\t\trequest: 'The request did not require any additional info.',\r\n\t\t\tconfirm: 'Are you sure?',\r\n\t\t\tinfo: 'No message provided.',\r\n\t\t},\r\n\t\t$w = $(window), $dialogOverlay, $dialogContent, $dialogHeader, $dialogBox, $dialogButtons;\r\n\t\r\n\t$.Dialog = {\r\n\t\topen: undefined,\r\n\t\tfail: function(title,content,callback){\r\n\t\t\t$.Dialog.display('fail',title,content,{\r\n\t\t\t\t'Close': {\r\n\t\t\t\t\t'action': function(){\r\n\t\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},callback);\r\n\t\t},\r\n\t\tsuccess: function(title,content,closeBtn,callback){\r\n\t\t\t$.Dialog.display('success',title,content,(closeBtn === true ? {\r\n\t\t\t\t'Close': {\r\n\t\t\t\t\t'action': function(){\r\n\t\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} : undefined), callback);\r\n\t\t},\r\n\t\twait: function(title,additional_info,callback){\r\n\t\t\tif (typeof additional_info === 'function' && callback === 'undefined'){\r\n\t\t\t\tcallback = additional_info;\r\n\t\t\t}\r\n\t\t\tif (typeof additional_info !== 'string' || additional_info.length < 2) additional_info = 'Sending request';\r\n\t\t\t$.Dialog.display('wait',title,additional_info[0].toUpperCase()+additional_info.substring(1)+'...',callback);\r\n\t\t},\r\n\t\trequest: function(title,content,formid,caption,callback){\r\n\t\t\tif (typeof caption === 'function' && typeof callback === 'undefined'){\r\n\t\t\t\tcallback = caption;\r\n\t\t\t\tcaption = 'ElkÃ¼ld';\r\n\t\t\t}\r\n\t\t\tvar obj = {};\r\n\t\t\tobj[caption] = {\r\n\t\t\t\t'submit': true,\r\n\t\t\t\t'form': formid,\r\n\t\t\t};\r\n\t\t\tobj['Cancel'] = {\r\n\t\t\t\t'action': function(){\r\n\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\t$.Dialog.display('request',title,content,obj, callback);\r\n\t\t},\r\n\t\tconfirm: function(title,content,btnTextArray,handlerFunc){\r\n\t\t\tif (typeof btnTextArray === 'function' && typeof handlerFunc === 'undefined')\r\n\t\t\t\thandlerFunc = btnTextArray;\r\n\t\t\t\r\n\t\t\tif (typeof handlerFunc !== 'function') handlerFunc = new Function();\r\n\t\t\t\r\n\t\t\tif (!$.isArray(btnTextArray)) btnTextArray = ['Eeyup','Nope'];\r\n\t\t\tvar buttonsObj = {};\r\n\t\t\tbuttonsObj[btnTextArray[0]] = {'action': function(){ handlerFunc(true) }};\r\n\t\t\tbuttonsObj[btnTextArray[1]] = {'action': function(){ handlerFunc(false); $.Dialog.close() }};\r\n\t\t\t$.Dialog.display('confirm',title,content,buttonsObj);\r\n\t\t},\r\n\t\tinfo: function(title,content,callback){\r\n\t\t\t$.Dialog.display('info',title,content,{\r\n\t\t\t\t'Close': {\r\n\t\t\t\t\t'action': function(){\r\n\t\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},callback);\r\n\t\t},\r\n\t\tdisplay: function (type,title,content,buttons,params,callback) {\r\n\t\t\tif (typeof type !== 'string' || typeof colors[type] === 'undefined') throw new TypeError('Invalid dialog type: '+typeof type);\r\n\t\t\t\r\n\t\t\tfunction setFocus(){\r\n\t\t\t\tvar $focus = $(':focus');\r\n\t\t\t\tif ($focus.length > 0) window._focusedElement = $focus.last();\r\n\t\t\t\telse window._focusedElement = undefined;\r\n\t\t\t\tvar $inputs = $('#dialogContent').find('input,select,textarea').filter(':visible'),\r\n\t\t\t\t\t$actions = $('#dialogButtons').children();\r\n\t\t\t\tif ($inputs.length > 0) $inputs.first().focus();\r\n\t\t\t\telse if ($actions.length > 0) $actions.first().focus();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfunction run(append){\r\n\t\t\t\tvar $contentAdd = $makeDiv().addClass(params.color);\r\n\t\t\t\tif (append){\r\n\t\t\t\t\t$dialogOverlay = $('#dialogOverlay');\r\n\t\t\t\t\t$dialogBox = $('#dialogBox');\r\n\t\t\t\t\t$dialogHeader = $('#dialogHeader');\r\n\t\t\t\t\tif (typeof params.title === 'string')\r\n\t\t\t\t\t\t$dialogHeader.text(params.title);\r\n\t\t\t\t\t$dialogContent = $('#dialogContent');\r\n\t\t\t\t\t$dialogButtons = $('#dialogButtons');\r\n\t\t\t\t\t$dialogContent.children(':not(:last-child)').find('input, select, textarea').attr('disabled',true);\r\n\t\t\t\t\t$dialogContent.append($contentAdd.html(params.content));\r\n\r\n\t\t\t\t\tif (params.buttons){\r\n\t\t\t\t\t\tif ($dialogButtons.length === 0)\r\n\t\t\t\t\t\t\t$dialogButtons = $makeDiv('dialogButtons');\r\n\t\t\t\t\t\t$dialogButtons.appendTo($dialogContent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$dialogButtons.empty();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t$dialogOverlay = $makeDiv('dialogOverlay');\r\n\t\t\t\t\t$dialogHeader = $makeDiv('dialogHeader').text(params.title||defaultTitles[type]);\r\n\t\t\t\t\t$dialogContent = $makeDiv('dialogContent');\r\n\t\t\t\t\t$dialogBox = $makeDiv('dialogBox');\r\n\r\n\t\t\t\t\t$dialogContent.append($contentAdd.html(params.content));\r\n\t\t\t\t\t$dialogBox.append($dialogHeader).append($dialogContent);\r\n\t\t\t\t\t$dialogButtons = $makeDiv('dialogButtons').appendTo($dialogContent);\r\n\t\t\t\t\t$dialogOverlay.css('opacity',0).appendTo(document.body);\r\n\t\t\t\t\t$dialogBox.appendTo($dialogOverlay);\r\n\t\t\t\t\t$dialogOverlay.css('opacity',1);\r\n\r\n\t\t\t\t\tsetFocus();\r\n\t\t\t\t\t$html.addClass('dialog-open');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t$dialogHeader.attr('class',params.color+'-bg');\r\n\t\t\t\t\r\n\t\t\t\tif (params.buttons) $.each(params.buttons, function (name, obj) {\r\n\t\t\t\t\tvar $button = $(document.createElement('input')).attr('type','button');\r\n\t\t\t\t\t$button.attr('class',params.color+'-bg');\r\n\t\t\t\t\tif (obj.form){\r\n\t\t\t\t\t\tvar $form = $('#'+obj.form);\r\n\t\t\t\t\t\tif ($form.length == 1){\r\n\t\t\t\t\t\t\t$button.click(function(){\r\n\t\t\t\t\t\t\t\t$form.find('input[type=submit]').trigger('click');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t$form.prepend($(document.createElement('input')).attr('type','submit').hide());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$button.val(name).on('keydown', function (e) {\r\n\t\t\t\t\t\tif ([13, 32].indexOf(e.keyCode) !== -1){\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t$button.trigger('click');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (e.keyCode === 9){\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar $dBc = $dialogButtons.children(),\r\n\t\t\t\t\t\t\t\t$focused = $dBc.filter(':focus'),\r\n\t\t\t\t\t\t\t\t$inputs = $dialogContent.find(':input');\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ($focused.length){\r\n\t\t\t\t\t\t\t\tif (!e.shiftKey){\r\n\t\t\t\t\t\t\t\t\tif ($focused.next().length) $focused.next().focus();\r\n\t\t\t\t\t\t\t\t\telse $inputs.add($dBc).first().focus();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif ($focused.prev().length) $focused.prev().focus();\r\n\t\t\t\t\t\t\t\t\telse ($inputs.length > 0 ? $inputs : $dBc).last().focus();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse $inputs.add($dBc)[!e.shiftKey ? 'first' : 'last']().focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).on('click', function (e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (typeof obj.action === 'function') obj.action(e);\r\n\r\n\t\t\t\t\t\tif (obj.type === 'close') $.Dialog.close(typeof obj.callback === 'function' ? obj.callback : undefined);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$dialogButtons.append($button);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$.Dialog.center();\r\n\r\n\t\t\t\tsetFocus();\r\n\r\n\t\t\t\tif (typeof callback === 'function') callback();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (typeof buttons == \"function\" && typeof params == \"undefined\" && typeof callback == 'undefined')\r\n\t\t\t\tcallback = buttons;\r\n\t\t\telse if (typeof buttons == \"object\" && typeof params == \"function\" && typeof callback == 'undefined')\r\n\t\t\t\tcallback = params;\r\n\t\t\tif (typeof params == \"undefined\") params = {};\r\n\t\t\t\r\n\t\t\tif (typeof title === 'undefined') title = defaultTitles[type];\r\n\t\t\telse if (title === false) title = undefined;\r\n\t\t\tif (typeof content === 'undefined') content = defaultContent[type];\r\n\t\t\tparams = {\r\n\t\t\t\ttype: type,\r\n\t\t\t\ttitle: title,\r\n\t\t\t\tcontent: content,\r\n\t\t\t\tbuttons: buttons,\r\n\t\t\t\tcolor: colors[type]\r\n\t\t\t};\r\n\r\n\t\t\tif (typeof $.Dialog.open == \"undefined\"){\r\n\t\t\t\t$.Dialog.open = params;\r\n\t\t\t\trun();\r\n\t\t\t}\r\n\t\t\telse run(!!$.Dialog.open);\r\n\t\t},\r\n\t\tclose: function (callback) {\r\n\t\t\tif (typeof $.Dialog.open === \"undefined\") return typeof callback == 'function' ? callback() : false;\r\n\r\n\t\t\t$dialogOverlay.remove();\r\n\t\t\t$.Dialog.open = void(0);\r\n\t\t\tif (window._focusedElement instanceof jQuery) window._focusedElement.focus();\r\n\t\t\tif (typeof callback == 'function') callback();\r\n\r\n\t\t\t$html.removeClass('dialog-open');\r\n\t\t},\r\n\t\tcenter: function(){\r\n\t\t\tvar overlay = {w: $dialogOverlay.width(), h: $dialogOverlay.height()},\r\n\t\t\t\tdialog = {w: $dialogBox.outerWidth(), h: $dialogBox.outerHeight()};\r\n\t\t\t$dialogBox.css(\"top\", Math.max((overlay.h - dialog.h) / 2, 0));\r\n\t\t\t$dialogBox.css(\"left\", Math.max((overlay.w - dialog.w) / 2, 0));\r\n\t\t}\r\n\t};\r\n\r\n\t$w.on('resize',function(){\r\n\t\tif (typeof $.Dialog.open !== 'undefined') {\r\n\t\t}\r\n\t}).on('ajaxerror',function(){\r\n\t\t$.Dialog.fail(false,'There was an error while processing your request. You may find additional details in the browser\\'s console.');\r\n\t});\r\n\t$(document.body).on('keydown',function(e){\r\n\t\tif (e.keyCode === 9 && typeof $.Dialog.open !== 'undefined'){\r\n\t\t\tvar $this = $(e.target),\r\n\t\t\t\t$inputs = $('#dialogContent').find(':input'),\r\n\t\t\t\tidx = $this.index('#dialogContent :input');\r\n\r\n\t\t\tif (e.shiftKey && idx === 0){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t$('#dialogButtons').find(':last').focus();\r\n\t\t\t}\r\n\t\t\telse if ($inputs.filter(':focus').length !== 1){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t$inputs.first().focus();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);"],"sourceRoot":"/source/"}
{"version":3,"sources":["dialog.js"],"names":["$","undefined","$makeDiv","id","mk","attr","colors","fail","success","wait","request","confirm","info","defaultTitles","defaultContent","$dialogOverlay","$dialogContent","$dialogHeader","$dialogBox","$dialogButtons","Dialog","open","length","title","content","callback","display","Close","action","close","closeBtn","additional_info","toUpperCase","substring","formid","caption","obj","submit","form","btnTextArray","handlerFunc","Function","isArray","buttonsObj","_storeFocus","_focusedElement","jQuery","$focus","last","_restoreFocus","focus","_setFocus","$inputs","find","filter","$actions","children","first","type","buttons","params","run","append","$contentAdd","addClass","color","text","html","appendTo","empty","$body","$form","each","name","$button","on","trigger","prepend","hide","val","e","indexOf","keyCode","preventDefault","$dBc","$focused","shiftKey","prev","next","add","center","TypeError","remove","removeClass","overlay","w","width","h","height","dialog","outerWidth","outerHeight","css","Math","max","$w","$this","target","idx","index"],"mappings":"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","file":"dialog.min.js","sourcesContent":["(function ($, undefined) {\r\n\tfunction $makeDiv(id){ return $.mk('div').attr('id', id) }\r\n\tvar colors = {\r\n\t\t\tfail: 'red',\r\n\t\t\tsuccess: 'green',\r\n\t\t\twait: 'blue',\r\n\t\t\trequest: 'yellow',\r\n\t\t\tconfirm: 'orange',\r\n\t\t\tinfo: 'darkblue'\r\n\t\t},\r\n\t\tdefaultTitles = {\r\n\t\t\tfail: 'Error',\r\n\t\t\tsuccess: 'Success',\r\n\t\t\twait: 'Sending request',\r\n\t\t\trequest: 'Input required',\r\n\t\t\tconfirm: 'Confirmation',\r\n\t\t\tinfo: 'Info',\r\n\t\t},\r\n\t\tdefaultContent = {\r\n\t\t\tfail: 'There was an issue while processing the request.',\r\n\t\t\tsuccess: 'Whatever you just did, it was completed successfully.',\r\n\t\t\trequest: 'The request did not require any additional info.',\r\n\t\t\tconfirm: 'Are you sure?',\r\n\t\t\tinfo: 'No message provided.',\r\n\t\t},\r\n\t\t$dialogOverlay = $('#dialogOverlay'),\r\n\t\t$dialogContent = $('#dialogContent'),\r\n\t\t$dialogHeader = $('#dialogHeader'),\r\n\t\t$dialogBox = $('#dialogBox'),\r\n\t\t$dialogButtons = $('#dialogButtons');\r\n\t\r\n\t$.Dialog = {\r\n\t\topen: $dialogContent.length,\r\n\t\tfail: function(title,content,callback){\r\n\t\t\t$.Dialog.display('fail',title,content,{\r\n\t\t\t\t'Close': {\r\n\t\t\t\t\t'action': function(){\r\n\t\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},callback);\r\n\t\t},\r\n\t\tsuccess: function(title,content,closeBtn,callback){\r\n\t\t\t$.Dialog.display('success',title,content,(closeBtn === true ? {\r\n\t\t\t\t'Close': {\r\n\t\t\t\t\t'action': function(){\r\n\t\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} : undefined), callback);\r\n\t\t},\r\n\t\twait: function(title,additional_info,callback){\r\n\t\t\tif (typeof additional_info === 'function' && callback === 'undefined'){\r\n\t\t\t\tcallback = additional_info;\r\n\t\t\t}\r\n\t\t\tif (typeof additional_info !== 'string' || additional_info.length < 2) additional_info = 'Sending request';\r\n\t\t\t$.Dialog.display('wait',title,additional_info[0].toUpperCase()+additional_info.substring(1)+'&hellip;',callback);\r\n\t\t},\r\n\t\trequest: function(title,content,formid,caption,callback){\r\n\t\t\tif (typeof caption === 'function' && typeof callback === 'undefined'){\r\n\t\t\t\tcallback = caption;\r\n\t\t\t\tcaption = 'ElkÃ¼ld';\r\n\t\t\t}\r\n\t\t\tvar obj = {};\r\n\t\t\tobj[caption] = {\r\n\t\t\t\t'submit': true,\r\n\t\t\t\t'form': formid,\r\n\t\t\t};\r\n\t\t\tobj['Cancel'] = {\r\n\t\t\t\t'action': function(){\r\n\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\t$.Dialog.display('request',title,content,obj, callback);\r\n\t\t},\r\n\t\tconfirm: function(title,content,btnTextArray,handlerFunc){\r\n\t\t\tif (typeof btnTextArray === 'function' && typeof handlerFunc === 'undefined')\r\n\t\t\t\thandlerFunc = btnTextArray;\r\n\t\t\t\r\n\t\t\tif (typeof handlerFunc !== 'function') handlerFunc = new Function();\r\n\t\t\t\r\n\t\t\tif (!$.isArray(btnTextArray)) btnTextArray = ['Eeyup','Nope'];\r\n\t\t\tvar buttonsObj = {};\r\n\t\t\tbuttonsObj[btnTextArray[0]] = {'action': function(){ handlerFunc(true) }};\r\n\t\t\tbuttonsObj[btnTextArray[1]] = {'action': function(){ handlerFunc(false); $.Dialog.close() }};\r\n\t\t\t$.Dialog.display('confirm',title,content,buttonsObj);\r\n\t\t},\r\n\t\tinfo: function(title,content,callback){\r\n\t\t\t$.Dialog.display('info',title,content,{\r\n\t\t\t\t'Close': {\r\n\t\t\t\t\t'action': function(){\r\n\t\t\t\t\t\t$.Dialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},callback);\r\n\t\t},\r\n\t\t_storeFocus: function(){\r\n\t\t\tif (typeof $.Dialog._focusedElement !== 'undefined' && $.Dialog._focusedElement instanceof jQuery)\r\n\t\t\t\treturn;\r\n\t\t\tvar $focus = $(':focus');\r\n\t\t\tif ($focus.length > 0) $.Dialog._focusedElement = $focus.last();\r\n\t\t\telse $.Dialog._focusedElement = undefined;\r\n\t\t},\r\n\t\t_restoreFocus: function(){\r\n\t\t\tif (typeof $.Dialog._focusedElement !== 'undefined' && $.Dialog._focusedElement instanceof jQuery)\r\n\t\t\t\t$.Dialog._focusedElement.focus();\r\n\t\t},\r\n\t\t_setFocus: function(){\r\n\t\t\tvar $inputs = $('#dialogContent').find('input,select,textarea').filter(':visible'),\r\n\t\t\t\t$actions = $('#dialogButtons').children();\r\n\t\t\tif ($inputs.length > 0) $inputs.first().focus();\r\n\t\t\telse if ($actions.length > 0) $actions.first().focus();\r\n\t\t},\r\n\t\tdisplay: function (type,title,content,buttons,params,callback) {\r\n\t\t\tif (typeof type !== 'string' || typeof colors[type] === 'undefined') throw new TypeError('Invalid dialog type: '+typeof type);\r\n\r\n\t\t\tfunction run(append){\r\n\t\t\t\tvar $contentAdd = $makeDiv().addClass(params.color);\r\n\t\t\t\tif (append){\r\n\t\t\t\t\t$dialogOverlay = $('#dialogOverlay');\r\n\t\t\t\t\t$dialogBox = $('#dialogBox');\r\n\t\t\t\t\t$dialogHeader = $('#dialogHeader');\r\n\t\t\t\t\tif (typeof params.title === 'string')\r\n\t\t\t\t\t\t$dialogHeader.text(params.title);\r\n\t\t\t\t\t$dialogContent = $('#dialogContent');\r\n\t\t\t\t\t$dialogButtons = $('#dialogButtons');\r\n\t\t\t\t\t$dialogContent.children(':not(:last-child)').find('input, select, textarea').attr('disabled',true);\r\n\t\t\t\t\t$dialogContent.append($contentAdd.html(params.content));\r\n\r\n\t\t\t\t\tif (params.buttons){\r\n\t\t\t\t\t\tif ($dialogButtons.length === 0)\r\n\t\t\t\t\t\t\t$dialogButtons = $makeDiv('dialogButtons');\r\n\t\t\t\t\t\t$dialogButtons.appendTo($dialogContent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$dialogButtons.empty();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t$.Dialog._storeFocus();\r\n\r\n\t\t\t\t\t$dialogOverlay = $makeDiv('dialogOverlay');\r\n\t\t\t\t\t$dialogHeader = $makeDiv('dialogHeader').text(params.title||defaultTitles[type]);\r\n\t\t\t\t\t$dialogContent = $makeDiv('dialogContent');\r\n\t\t\t\t\t$dialogBox = $makeDiv('dialogBox');\r\n\r\n\t\t\t\t\t$dialogContent.append($contentAdd.html(params.content));\r\n\t\t\t\t\t$dialogButtons = $makeDiv('dialogButtons').appendTo($dialogContent);\r\n\t\t\t\t\t$dialogBox.append($dialogHeader).append($dialogContent);\r\n\t\t\t\t\t$dialogOverlay.append($dialogBox).appendTo($body);\r\n\r\n\t\t\t\t\t$body.addClass('dialog-open');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t$dialogHeader.attr('class',params.color+'-bg');\r\n\r\n\t\t\t\tvar $form = false;\r\n\t\t\t\tif (params.buttons) $.each(params.buttons, function (name, obj) {\r\n\t\t\t\t\tvar $button = $.mk('input').attr('type','button');\r\n\t\t\t\t\t$button.attr('class',params.color+'-bg');\r\n\t\t\t\t\tif (obj.form){\r\n\t\t\t\t\t\t$form = $('#'+obj.form);\r\n\t\t\t\t\t\tif ($form.length == 1){\r\n\t\t\t\t\t\t\t$button.on('click', function(){\r\n\t\t\t\t\t\t\t\t$form.find('input[type=submit]').trigger('click');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t$form.prepend($.mk('input').attr('type','submit').hide());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$button.val(name).on('keydown', function (e) {\r\n\t\t\t\t\t\tif ([13, 32].indexOf(e.keyCode) !== -1){\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t$button.trigger('click');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if ([9, 37, 39].indexOf(e.keyCode) !== -1){\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar $dBc = $dialogButtons.children(),\r\n\t\t\t\t\t\t\t\t$focused = $dBc.filter(':focus'),\r\n\t\t\t\t\t\t\t\t$inputs = $dialogContent.find(':input');\r\n\r\n\t\t\t\t\t\t\tif (e.keyCode === 37) e.shiftKey = true;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ($focused.length){\r\n\t\t\t\t\t\t\t\tif (!e.shiftKey){\r\n\t\t\t\t\t\t\t\t\tif ($focused.next().length) $focused.next().focus();\r\n\t\t\t\t\t\t\t\t\telse if (e.keyCode === 9) $inputs.add($dBc).filter(':visible').first().focus();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif ($focused.prev().length) $focused.prev().focus();\r\n\t\t\t\t\t\t\t\t\telse if (e.keyCode === 9) ($inputs.length > 0 ? $inputs : $dBc).filter(':visible').last().focus();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse $inputs.add($dBc)[!e.shiftKey ? 'first' : 'last']().focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).on('click', function (e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (typeof obj.action === 'function') obj.action(e);\r\n\r\n\t\t\t\t\t\tif (obj.type === 'close') $.Dialog.close(typeof obj.callback === 'function' ? obj.callback : undefined);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$dialogButtons.append($button);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$.Dialog.center();\r\n\t\t\t\t$.Dialog._setFocus();\r\n\r\n\t\t\t\tif (typeof callback === 'function') callback($form);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (typeof buttons == \"function\" && typeof params == \"undefined\" && typeof callback == 'undefined')\r\n\t\t\t\tcallback = buttons;\r\n\t\t\telse if (typeof buttons == \"object\" && typeof params == \"function\" && typeof callback == 'undefined')\r\n\t\t\t\tcallback = params;\r\n\t\t\tif (typeof params == \"undefined\") params = {};\r\n\t\t\t\r\n\t\t\tif (typeof title === 'undefined') title = defaultTitles[type];\r\n\t\t\telse if (title === false) title = undefined;\r\n\t\t\tif (typeof content === 'undefined') content = defaultContent[type];\r\n\t\t\tparams = {\r\n\t\t\t\ttype: type,\r\n\t\t\t\ttitle: title,\r\n\t\t\t\tcontent: content,\r\n\t\t\t\tbuttons: buttons,\r\n\t\t\t\tcolor: colors[type]\r\n\t\t\t};\r\n\r\n\t\t\tif ($.Dialog.open)\r\n\t\t\t\trun(true);\r\n\t\t\telse {\r\n\t\t\t\t$.Dialog.open = params;\r\n\t\t\t\trun();\r\n\t\t\t}\r\n\t\t},\r\n\t\tclose: function (callback) {\r\n\t\t\tif (typeof $.Dialog.open === \"undefined\") return typeof callback == 'function' ? callback() : false;\r\n\r\n\t\t\t$('#dialogOverlay').remove();\r\n\t\t\t$.Dialog.open = void(0);\r\n\t\t\t$.Dialog._restoreFocus();\r\n\t\t\tif (typeof callback == 'function') callback();\r\n\r\n\t\t\t$body.removeClass('dialog-open');\r\n\t\t},\r\n\t\tcenter: function(){\r\n\t\t\tif (typeof $.Dialog.open === 'undefined') return;\r\n\r\n\t\t\tvar overlay = {w: $dialogOverlay.width(), h: $dialogOverlay.height()},\r\n\t\t\t\tdialog = {w: $dialogBox.outerWidth(true), h: $dialogBox.outerHeight(true)};\r\n\t\t\t$dialogBox.css(\"top\", Math.max((overlay.h - dialog.h) / 2, 0));\r\n\t\t\t$dialogBox.css(\"left\", Math.max((overlay.w - dialog.w) / 2, 0));\r\n\t\t}\r\n\t};\r\n\r\n\t$w.on('resize', $.Dialog.center);\r\n\t$body.on('keydown',function(e){\r\n\t\tif (e.keyCode === 9 && typeof $.Dialog.open !== 'undefined'){\r\n\t\t\tvar $this = $(e.target),\r\n\t\t\t\t$inputs = $('#dialogContent').find(':input'),\r\n\t\t\t\tidx = $this.index('#dialogContent :input');\r\n\r\n\t\t\tif (e.shiftKey && idx === 0){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t$('#dialogButtons').find(':last').focus();\r\n\t\t\t}\r\n\t\t\telse if ($inputs.filter(':focus').length !== 1){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t$inputs.first().focus();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}